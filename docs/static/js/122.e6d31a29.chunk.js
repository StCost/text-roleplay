(self.webpackChunktext_roleplay=self.webpackChunktext_roleplay||[]).push([[122,805],{9122:function(e,t,n){"use strict";n.r(t);var r=n(1413),o=n(3144),a=n(5671),c=n(136),i=n(4062),s=n(2791),l=n(4233),u=n(9271),d=n(9421),f=n(3347),h=n(1099),p=n(2756),b=n(1953),v=(n(6805),n(3824)),k=n(2404),y=function(e){(0,c.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={notes:void 0},e.componentDidMount=function(){var t=e.props,n=t.character,r=t.user,o=t.uid,a=t.currentUser,c=t.history;n?e.setState({notes:n.notes}):k.default.getCharacter({uid:o}),r||k.default.getUser({uid:o}),(0,v.redirectToUserPage)(r,a,c)},e.componentDidUpdate=function(t){var n=e.props,r=n.character,o=n.user,a=n.currentUser,c=n.history;t!==e.props&&r&&r.notes!==e.state.notes&&e.setState({notes:r.notes}),(0,v.redirectToUserPage)(o,a,c)},e.onSave=function(){var t=e.props.uid,n=e.state.notes;t&&void 0!==n&&k.default.setCharacterNotes({uid:t,notes:n})},e.componentWillUnmount=e.onSave,e.getTitle=function(e){return s.createElement(s.Fragment,null,s.createElement(b.Z,null)," ","\u0417\u0430\u043f\u0438\u0441\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ",e.nickname)},e.render=function(){var t=e.props,n=t.user,o=t.currentUser,a=t.hasRight,c=t.character,i=t.uid;if(!n||!c)return s.createElement(d.Z,{description:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b"});var l=n.notesAreVisible;return l||o&&(o.isAdmin||o.uid===i)?s.createElement(f.Z,{className:"notebook",title:e.getTitle(n)},s.createElement("div",{className:"notebook-switch"},s.createElement(h.Z,{checked:l,onChange:function(){return k.default.setUser({uid:i,user:(0,r.Z)((0,r.Z)({},n),{},{notesAreVisible:!l})})},disabled:!a}),s.createElement("span",null,l?"\u0417\u0430\u043f\u0438\u0441\u0438 \u0432\u0438\u0434\u043d\u044b \u0432\u0441\u0435\u043c":"\u0417\u0430\u043f\u0438\u0441\u0438 \u0432\u0438\u0434\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0412\u0430\u043c")),s.createElement(p.Z.TextArea,{className:"notebook-input",value:e.state.notes,onChange:function(t){return e.setState({notes:t.currentTarget.value})},onBlur:e.onSave,readOnly:!a})):s.createElement(d.Z,{description:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441\u043a\u0440\u044b\u043b \u0441\u0432\u043e\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u043e\u0442 \u043f\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0445"})},e}return(0,o.Z)(n)}(s.Component);t.default=(0,u.EN)((0,l.$j)(v.getStateUser)(y))},1099:function(e,t,n){"use strict";var r=n(2791),o=n(718),a=n(1694),c=n.n(a),i=n(9),s=n(1329),l=n.n(s),u=n(345),d=n(9077),f=n(3081),h=n(8782);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=r.forwardRef((function(e,t){var n;(0,h.Z)("checked"in e||!("value"in e),"Switch","`value` is not a valid prop, do you mean `checked`?");var a=e.prefixCls,s=e.size,v=e.loading,k=e.className,y=void 0===k?"":k,m=e.disabled,C=r.useContext(d.E_),g=C.getPrefixCls,O=C.direction,w=r.useContext(f.Z),E=g("switch",a),j=v?r.createElement(l(),{className:"".concat(E,"-loading-icon")}):null,x=c()(y,(b(n={},"".concat(E,"-small"),"small"===(s||w)),b(n,"".concat(E,"-loading"),v),b(n,"".concat(E,"-rtl"),"rtl"===O),n));return r.createElement(u.Z,{insertExtraNode:!0},r.createElement(o.default,p({},(0,i.Z)(e,["loading"]),{prefixCls:E,className:x,disabled:m||v,ref:t,loadingIcon:j})))}));v.__ANT_SWITCH=!0,t.Z=v},961:function(e,t,n){"use strict";var r=n(2791),o=n(2007),a=n.n(o),c=n(3688);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n(1694),b=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?f(e):t}(this,u(t).call(this,e)),h(f(f(n)),"handleClick",(function(e){var t=n.state.checked,r=n.props.onClick,o=!t;n.setChecked(o,e),r&&r(o,e)})),h(f(f(n)),"handleKeyDown",(function(e){37===e.keyCode?n.setChecked(!1,e):39===e.keyCode&&n.setChecked(!0,e)})),h(f(f(n)),"handleMouseUp",(function(e){var t=n.props.onMouseUp;n.node&&n.node.blur(),t&&t(e)})),h(f(f(n)),"saveNode",(function(e){n.node=e}));var r=!1;return r="checked"in e?!!e.checked:!!e.defaultChecked,n.state={checked:r},n}var n,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,a=[{key:"getDerivedStateFromProps",value:function(e){var t={},n=e.checked;return"checked"in e&&(t.checked=!!n),t}}],(o=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"setChecked",value:function(e,t){var n=this.props,r=n.disabled,o=n.onChange;r||("checked"in this.props||this.setState({checked:e}),o&&o(e,t))}},{key:"focus",value:function(){this.node.focus()}},{key:"blur",value:function(){this.node.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.className,o=t.prefixCls,a=t.disabled,c=t.loadingIcon,l=t.checkedChildren,u=t.unCheckedChildren,d=s(t,["className","prefixCls","disabled","loadingIcon","checkedChildren","unCheckedChildren"]),f=this.state.checked,b=p((h(e={},n,!!n),h(e,o,!0),h(e,"".concat(o,"-checked"),f),h(e,"".concat(o,"-disabled"),a),e));return r.createElement("button",i({},d,{type:"button",role:"switch","aria-checked":f,disabled:a,className:b,ref:this.saveNode,onKeyDown:this.handleKeyDown,onClick:this.handleClick,onMouseUp:this.handleMouseUp}),c,r.createElement("span",{className:"".concat(o,"-inner")},f?l:u))}}])&&l(n.prototype,o),a&&l(n,a),t}(r.Component);b.propTypes={className:a().string,prefixCls:a().string,disabled:a().bool,checkedChildren:a().any,unCheckedChildren:a().any,onChange:a().func,onMouseUp:a().func,onClick:a().func,tabIndex:a().number,checked:a().bool,defaultChecked:a().bool,autoFocus:a().bool,loadingIcon:a().node},b.defaultProps={prefixCls:"rc-switch",checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1},(0,c.O)(b),t.default=b},718:function(e,t,n){e.exports=n(961)},6805:function(e,t,n){"use strict";n.r(t),t.default={}}}]);
//# sourceMappingURL=122.e6d31a29.chunk.js.map