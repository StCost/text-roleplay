(this["webpackJsonptext-roleplay"]=this["webpackJsonptext-roleplay"]||[]).push([[7,19,20,38,40],{139:function(e,t,a){"use strict";a.r(t);var n=a(164),r=a(166),i=a(165),c=a(0),s=a.n(c),l=a(32),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},u=a(431),m=function(e,t){return c.createElement(u.a,Object.assign({},e,{ref:t,icon:o}))};m.displayName="SendOutlined";var f=c.forwardRef(m),p=a(92),d=a(596),g=a(507),v=a(83),b=(a(426),a(3)),y=a(243),h=a(20),E=a(234),O=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={message:"",sending:!1},e.componentDidMount=function(){b.default.getMessages({}),b.default.subscribe({}),e.setState({message:localStorage.getItem("message")||""})},e.componentWillUnmount=function(){b.default.unsubscribe({})},e.componentDidUpdate=function(t){var a=e.props,n=a.messages,r=a.users;e.state.sending&&t.messages!==n&&(localStorage.setItem("message",""),e.setState({message:"",sending:!1})),n.forEach((function(e){r[e.author]||b.default.getUser({uid:e.author})}))},e.onChangeMessage=function(t){var a=t.target.value;localStorage.setItem("message",a),e.setState({message:a})},e.onKeyDown=function(t){"Enter"!==t.key||t.shiftKey||(t.preventDefault(),e.onSendMessage());var a=e.props.uid;if("Up"===t.key||"ArrowUp"===t.key){var n=e.props.messages.find((function(e){return e.author===a}));if(n){var r=t.currentTarget,i=r.value,c=r.selectionStart;if(1===i.substr(0,c).split("\n").length){var s=n.body;localStorage.setItem("message",s),e.setState({message:s})}}}},e.onSendMessage=function(){var t=e.state.message,a=e.props,n=a.user,r=a.loading,i=a.uid;r||(n?n.nickname?n.approved?Object(h.validateMessage)(t)&&(e.setState({sending:!0}),b.default.sendMessage({uid:i,message:t})):p.a.error("\u0410\u0434\u043c\u0438\u043d \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043b \u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"):p.a.error("\u041d\u0438\u043a\u043d\u0435\u0439\u043c \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d. \u041f\u0440\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438 \u043d\u0430\u0437\u043e\u0432\u0438\u0442\u0435 \u0441\u0435\u0431\u044f"):p.a.error("\u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"))},e.getMoreMessages=function(){b.default.getMoreMessages({firstMessage:e.props.messages[e.props.messages.length-1]})},e.onScroll=function(t){t.currentTarget.scrollTop<=50&&(t.preventDefault(),e.getMoreMessages())},e.uploadFile=function(t,a){var n=e.props.uid;if(t){if(t.type.indexOf("image")>-1)if(FileReader){var r=new FileReader;r.onload=function(e){e.target&&e.target.result&&"string"===typeof e.target.result&&d.a.confirm({title:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435?",content:s.a.createElement(E.default,{src:e.target.result,noTitle:!0}),onOk:function(e){b.default.uploadFile({uid:n,file:t}),e()},okText:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",maskClosable:!0,centered:!0})},r.readAsDataURL(t)}else p.a.error("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u043c");else p.a.error("\u0422\u043e\u043b\u044c\u043a\u043e \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b");a.preventDefault()}},e.onPaste=function(t){e.uploadFile(t.clipboardData.files[0],t)},e.onDrop=function(t){var a=t.dataTransfer.items[0].getAsFile();a&&e.uploadFile(a,t)},e.render=function(){var t=e.props,a=t.messages,n=t.loading,r=t.users,i=t.uid;return s.a.createElement(g.a,{spinning:n},s.a.createElement("div",{className:"chat-wrapper"},s.a.createElement("div",{className:"chat-body",onScroll:e.onScroll},a.map((function(e){return s.a.createElement(y.default,{key:e.time,message:e,user:r[e.author],uid:i})}))),s.a.createElement("div",{className:"chat-controls"},s.a.createElement(v.a.TextArea,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",autoSize:{minRows:1,maxRows:10},onChange:e.onChangeMessage,onKeyDown:e.onKeyDown,value:e.state.message,onPaste:e.onPaste,onDrop:e.onDrop}),s.a.createElement(f,{onClick:e.onSendMessage}))))},e}return a}(c.Component);t.default=Object(l.b)((function(e){var t=e.messages,a=e.uid,n=e.loading,r=e.users;return{messages:t,uid:a,loading:n,users:r,user:r[a]}}))(O)},230:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(430),i=a(0),c=a.n(i),s=a(436),l=a(20);t.default=function(e){var t=e.avatar,a=e.nickname,i=e.style,o=Object(r.a)(e,["avatar","nickname","style"]),u=Object(l.isURL)(t)?t:"";return c.a.createElement(s.a,Object.assign({src:u,style:Object(n.a)(Object(n.a)({},i),{},{backgroundColor:u?"transparent":Object(l.colorFromString)(a)})},o),a&&a.substr(0,5))}},231:function(e,t,a){"use strict";a.r(t);var n=a(164),r=a(166),i=a(165),c=a(0),s=a.n(c),l=a(64),o=a(420),u=a(458),m=(a(422),a(230)),f=a(3),p=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).getStats=function(){var t=e.props.item,a=t.type,n=t.armor,r=t.capacity;switch(a){case"wearable":return n;case"weapon":return r;default:var i=e.props.amount||e.props.item.amount;return!!(i&&i>=2)&&"".concat(i,"\u0448\u0442")}},e.labels={wearable:"\u0417\u0430\u0449\u0438\u0442\u0430",weapon:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"},e.getFooter=function(){var t=e.props,a=t.footer,n=t.uid,r=e.props.item,i=r.failed,c=r.id;return i?s.a.createElement("div",{className:"item-footer"},s.a.createElement(l.a,{disabled:!n,onClick:function(){return f.default.removeItem({uid:n,id:c,all:!0})}},s.a.createElement(u.a,null))):!!a&&s.a.createElement("div",{className:"item-footer"},a)},e.render=function(){var t=e.props,a=t.disabled,n=t.item,r=n.name,i=void 0===r?n.id:r,c=n.price,l=void 0===c?0:c,u=n.description,f=n.image,p=n.effect,d=n.weight,g=void 0===d?0:d,v=n.type,b=n.approved,y=e.getStats();return s.a.createElement(o.a,{className:"item ".concat(b&&!a?"":"disabled")},s.a.createElement("div",{className:"item-info"},s.a.createElement("div",{className:"item-name"},i),s.a.createElement("div",{className:"item-subinfo"},s.a.createElement("div",{className:"item-price"},l>0&&"\u0426\u0435\u043d\u0430: ".concat(l)),s.a.createElement("div",{className:"item-weight"},g>0&&"\u0412\u0435\u0441: ".concat(g,"lb")))),(f||u)&&s.a.createElement("div",{className:"item-body"},f&&s.a.createElement("div",{className:"item-image"},s.a.createElement(m.default,{avatar:f,nickname:i,shape:"square"})),u),(y||p)&&s.a.createElement("div",{className:"item-prefooter"},s.a.createElement("div",{className:"item-ammo"},y?"".concat(e.labels[v]||"\u041a\u043e\u043b-\u0432\u043e",": ").concat(y):""),s.a.createElement("div",{className:"item-effect"},p)),e.getFooter())},e}return a}(c.Component);t.default=p},234:function(e,t,a){"use strict";a.r(t);var n=a(164),r=a(435),i=a(166),c=a(165),s=a(0),l=a.n(s),o=a(596),u=a(457),m=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={visible:!1},e.toggleModal=function(){e.setState({visible:!e.state.visible})},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.src,a=e.noTitle,n=void 0!==a&&a;return l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{onClick:this.toggleModal,src:t,alt:"",className:"chat-image"}),l.a.createElement(o.a,{title:!n&&l.a.createElement("div",null,l.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},t),l.a.createElement(u.a,{onClick:this.toggleModal})),className:"image-modal",closable:!1,footer:null,visible:this.state.visible,onCancel:this.toggleModal,width:"fit-content"},l.a.createElement("img",{style:{maxWidth:"100%"},src:t,alt:""})))}}]),a}(s.Component);t.default=m},237:function(e,t,a){"use strict";a.r(t);var n=a(430),r=a(0),i=a.n(r),c=a(32),s=a(231),l=a(3);t.default=Object(c.b)((function(e,t){return{item:e.items.find((function(e){return e.id===t.id}))}}))((function(e){var t=e.id,a=e.item,r=Object(n.a)(e,["id","item"]);return a?i.a.createElement(s.default,Object.assign({item:a},r)):(l.default.getItemById({id:t}),i.a.createElement(i.a.Fragment,null))}))},239:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(598),c=a(131),s=a(83),l=a(446),o=a(64),u=a(601),m=a(20),f=a(42),p=a(234),d=a(237),g=a(3);t.default=function(e){var t=e.uid,a=e.message,n=a.body,v=a.isRP,b=a.rolls,y=a.data;if(y){var h=y.itemId,E=y.taken,O=y.amount,N=y.type,w=y.characterChanges;if(w){var S=Object.values(w),j=function(e){switch(typeof e){case"string":case"number":return e;default:return[e.base&&"b:".concat(e.base),e.change&&"".concat(e.base?" + ":"","c:").concat(e.change),e.total&&" = t:".concat(e.total)].filter(Boolean).join("")}};return r.a.createElement(i.a,null,r.a.createElement(i.a.Panel,{key:"char-changes",header:n},S.map((function(e){var t=e.label,a=e.full,n=e.before,i=e.after;return r.a.createElement("div",{key:t,className:"chat-char-changes"},r.a.createElement(c.a,{title:a},r.a.createElement("span",null,t)),r.a.createElement("div",null,r.a.createElement(s.a,{value:j(n),readOnly:!0}),"->",r.a.createElement(s.a,{value:j(i),readOnly:!0})))}))))}if(h)return r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"rp-message"},n),r.a.createElement("div",{className:E?"":"rp-message"},r.a.createElement(d.default,{id:h.trim(),amount:O,disabled:E,footer:t&&N?r.a.createElement(l.a,{title:"\u041f\u043e\u0434\u043e\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442?",onConfirm:function(){return g.default.takeItem({uid:t,message:a,data:y})},okText:"\u041f\u043e\u0434\u043e\u0431\u0440\u0430\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",disabled:E},r.a.createElement(o.a,{className:"take-button",disabled:E},r.a.createElement(u.a,null))):void 0})))}if(Object(m.isURL)(n)){if(/\.(gif|jpe?g|tiff|png|webp|bmp)/gi.test(n))return r.a.createElement(p.default,{src:n});var k=r.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},n);if(n.indexOf("youtu")>-1){var x=new URL(n).searchParams,C="listType=playlist",M=function(e){if(!(e.indexOf("youtu.be")>-1))return new URL(e).searchParams.get("v")||"";var t=e.match(/youtu\.be\/.* /i);if(t){var a=t.pop();if(a)return a.split("/").pop()||""}return""}(n);if(M){var P=x.get("list");P&&(C+="&list="+P);var D=x.get("t");return D&&(C+="&start="+D),r.a.createElement(r.a.Fragment,null,k,r.a.createElement("iframe",{title:M,id:"ytplayer",width:"100%",height:"360",src:"https://www.youtube.com/embed/".concat(M,"?").concat(C),frameBorder:"0",allow:"accelerometer; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))}}return k}var R=b?Object(f.importRolls)(n,b):n;return v?r.a.createElement("i",{className:"rp-message"},R):r.a.createElement("span",null,R)}},243:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(131),c=a(420),s=a(88),l=a(230),o=a(239),u=a(20);t.default=function(e){var t=e.message,a=t.time,n=t.grouped,m=t.body,f=t.mentioned,p=t.author,d=e.user,g=e.uid,v=d&&r.a.createElement(s.b,{to:"./".concat(p,"/settings")},r.a.createElement(i.a,{title:d.lastOnline?"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c: ".concat(Object(u.getFullTime)(d.lastOnline)):void 0,placement:"left"},r.a.createElement("div",{className:"chat-message__title ".concat(Object(u.isOnline)(d.lastOnline)?"online":"")},r.a.createElement(l.default,{avatar:d.avatar,nickname:d.nickname||d.uid||p}),r.a.createElement("div",{className:"chat-message__nickname"},d.nickname||d.uid||p))));return r.a.createElement(c.a,{className:"chat-message ".concat(n?"grouped":""," ").concat(f&&d&&m.indexOf("@".concat(d.nickname," "))>-1?"mentioned":""),title:n?void 0:v,key:a},r.a.createElement(i.a,{title:Object(u.getDate)(a),placement:"left"},r.a.createElement("div",{className:"chat-time"},Object(u.getTime)(a))),r.a.createElement(o.default,{message:e.message,uid:g}))}},422:function(e,t,a){},426:function(e,t,a){},507:function(e,t,a){"use strict";var n=a(0),r=a(2),i=a.n(r),c=a(15),s=a(178),l=a.n(s),o=a(229),u=a(30);function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},E=(Object(u.a)("small","default","large"),null);var O=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(m,e);var t,a,r,s,u=(t=m,function(){var e,a=y(t);if(b()){var n=y(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return v(this,e)});function m(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=u.call(this,e)).debouncifyUpdateSpinning=function(e){var a=(e||t.props).delay;a&&(t.cancelExistingSpin(),t.updateSpinning=l()(t.originalUpdateSpinning,a))},t.updateSpinning=function(){var e=t.props.spinning;t.state.spinning!==e&&t.setState({spinning:e})},t.renderSpin=function(e){var a,r=e.getPrefixCls,s=e.direction,l=t.props,o=l.prefixCls,u=l.className,m=l.size,d=l.tip,g=l.wrapperClassName,v=l.style,b=h(l,["prefixCls","className","size","tip","wrapperClassName","style"]),y=t.state.spinning,O=r("spin",o),N=i()(O,(p(a={},"".concat(O,"-sm"),"small"===m),p(a,"".concat(O,"-lg"),"large"===m),p(a,"".concat(O,"-spinning"),y),p(a,"".concat(O,"-show-text"),!!d),p(a,"".concat(O,"-rtl"),"rtl"===s),a),u),w=Object(c.a)(b,["spinning","delay","indicator"]),S=n.createElement("div",f({},w,{style:v,className:N}),function(e,t){var a=t.indicator,r="".concat(e,"-dot");return null===a?null:n.isValidElement(a)?n.cloneElement(a,{className:i()(a.props.className,r)}):n.isValidElement(E)?n.cloneElement(E,{className:i()(E.props.className,r)}):n.createElement("span",{className:i()(r,"".concat(e,"-dot-spin"))},n.createElement("i",{className:"".concat(e,"-dot-item")}),n.createElement("i",{className:"".concat(e,"-dot-item")}),n.createElement("i",{className:"".concat(e,"-dot-item")}),n.createElement("i",{className:"".concat(e,"-dot-item")}))}(O,t.props),d?n.createElement("div",{className:"".concat(O,"-text")},d):null);if(t.isNestedPattern()){var j=i()("".concat(O,"-container"),p({},"".concat(O,"-blur"),y));return n.createElement("div",f({},w,{className:i()("".concat(O,"-nested-loading"),g)}),y&&n.createElement("div",{key:"loading"},S),n.createElement("div",{className:j,key:"container"},t.props.children))}return S};var a=e.spinning,r=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(a,e.delay);return t.state={spinning:a&&!r},t.originalUpdateSpinning=t.updateSpinning,t.debouncifyUpdateSpinning(e),t}return a=m,s=[{key:"setDefaultIndicator",value:function(e){E=e}}],(r=[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||!this.props.children)}},{key:"render",value:function(){return n.createElement(o.a,null,this.renderSpin)}}])&&d(a.prototype,r),s&&d(a,s),m}(n.Component);O.defaultProps={spinning:!0,size:"default",wrapperClassName:""},t.a=O}}]);
//# sourceMappingURL=7.79630fd6.chunk.js.map