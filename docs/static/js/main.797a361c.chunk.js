(this["webpackJsonptext-roleplay"]=this["webpackJsonptext-roleplay"]||[]).push([[0],{180:function(e){e.exports=JSON.parse('[{"label":"\u0427\u0430\u0442","path":"/text-roleplay/chat"},{"label":"\u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c","path":"./inventory"},{"label":"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u044b","path":"/text-roleplay/items"},{"label":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","path":"./settings"},{"label":"\u041f\u043e\u043c\u043e\u0449\u044c","path":"/text-roleplay/help"},{"label":"\u0412\u044b\u0439\u0442\u0438","path":"/text-roleplay/logout"}]')},199:function(e){e.exports=JSON.parse('{"apiKey":"AIzaSyC_NJqbSuXGDiD6hcQZdmtBZnaVZ40ggIY","authDomain":"text-roleplay.firebaseapp.com","databaseURL":"https://text-roleplay.firebaseio.com","projectId":"text-roleplay","storageBucket":"text-roleplay.appspot.com","messagingSenderId":"226797822488","appId":"1:226797822488:web:e717b14d3ccc42e700996d"}')},206:function(e,t,a){e.exports=a(388)},215:function(e,t,a){},217:function(e,t,a){},271:function(e,t,a){},292:function(e,t,a){},310:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},388:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),i=a.n(c),o=a(20),l=(a(215),a(68)),s=(a(216),a(394)),u=a(64),m=(a(217),a(180));var d=Object(o.b)((function(e){return{isLoggedIn:e.isLoggedIn}}))(Object(u.g)((function(e){if(!e.isLoggedIn)return r.a.createElement(r.a.Fragment,null);var t=window.innerWidth<767?"horizontal":"inline";return r.a.createElement(s.a,{mode:t,selectedKeys:[e.location.pathname.split("/").pop()||""]},m.map((function(t){return r.a.createElement(s.a.Item,{key:t.path.split("/").pop(),disabled:t.path===e.location.pathname},t.link?r.a.createElement("a",{href:t.path,target:"_blank",rel:"noopener noreferrer"},"\u041f\u043e\u043c\u043e\u0449\u044c"):r.a.createElement(l.b,{to:t.path},t.label))})))}))),p=a(27),f=a(29),g=a(28),E=a(405),b=a(400),v=a(390),h=a(397),S=(a(271),a(32)),O=a(4),I=a(53),y=a(202),j=a(184),C=a(71),w=a(124),k=a(123),x=/([1-9]|10)[d\u0434\u1C81]((10|12|20)|[468])/im,T=/([1-9]|10)[d\u0434\u1C81]((10|12|20)|[468])/gim,_=function(e,t){return new Array(e).fill(e+t).map((function(){return e=1,a=t,Math.floor(Math.random()*(a+1-e)+e);var e,a}))},M=function(e){if(!e)return"#000";for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);for(var n="#",r=0;r<3;r++){n+=("00"+(t>>8*r&255).toString(16)).substr(-2)}return n},A=function(e){return!!e&&(e||parseInt(localStorage.getItem("lastActivity")||"0"))+18e4>(new Date).getTime()},U=function(e){return 1==="".concat(e).length?"0".concat(e):e},N=function(e){var t=new Date(e);return[t.getHours(),t.getMinutes(),t.getSeconds()].map(U).join(":")},L=function(e){var t=new Date(e);return[t.getDate(),t.getMonth()+1,t.getFullYear()].map(U).join(".")},F=function(e){var t=new Date(e);return[[t.getHours(),t.getMinutes(),t.getSeconds()].map(U).join(":"),[t.getDate(),t.getMonth()+1,t.getFullYear()].map(U).join(".")].join(" ")},D=function(e){return/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/gim.test(e)},G=function(e){return e.filter((function(e,t,a){return a.findIndex((function(t){return t.time===e.time}))===t})).sort((function(e,t){return t.time-e.time})).map((function(e,t,a){return t<a.length-2&&e.author===a[t+1].author?Object(O.a)(Object(O.a)({},e),{},{grouped:!0}):e}))},R=function(e){var t=e.body;return x.test(t)&&(e.rolls=function(e){var t=e.match(T);return t?t.map((function(e){var t=e.split(/[d\u0434]/),a=Object(w.a)(t,2),n=a[0],r=a[1],c=parseInt(n),i=parseInt(r),o=_(c,i);return{maxResult:i*c,minResult:c,sum:o.reduce((function(e,t){return e+t}),0),roll:e,results:o,amount:c,size:i}})).splice(0,10):[]}(t)),t.indexOf("*")>-1&&(e.isRP=!0),/(@[a-z\u017F\u0430-\u044F\u0451\u1C80-\u1C86\u212A]*)/im.test(t)&&(e.mentioned=!0),e},B=function(e){if(!e)return b.a.error("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u0443\u0441\u0442\u043e\u0435"),!1;if(/[0-9]+[d\u0434\u1C81][0-9]+/im.test(e)){var t=e.match(/(( |^)[a-z\u017F\u0430-\u044F\u1C80-\u1C86\u212A]+[0-9]+[d\u0434\u1C81][0-9]+)|([0-9]+[d\u0434\u1C81][0-9]+[a-z\u017F\u0430-\u044F\u1C80-\u1C86\u212A]+( |$))|([0-9]+[d\u0434\u1C81][0-9]+)/gim);if(t)if(t.some((function(e){if(/(([a-z\u017F\u0430-\u044F\u0451\u1C80-\u1C86\u212A])[0-9]+[d\u0434\u1C81][0-9]+)|([0-9]+[d\u0434\u1C81][0-9]+([a-z\u017F\u0430-\u044F\u0451\u1C80-\u1C86\u212A]))/gim.test(e))return b.a.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0434\u0430\u0439\u0441\u0435 ".concat(e,". \u0420\u044f\u0434\u043e\u043c \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")),!0;var t=e.split(/[d\u0434]/),a=Object(w.a)(t,2),n=a[0],r=a[1];return parseInt(n)>10?(b.a.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0434\u0430\u0439\u0441\u0435 ".concat(e,". \u041d\u0435\u043b\u044c\u0437\u044f \u0431\u0440\u043e\u0441\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 10-\u0442\u0438 \u0434\u0430\u0439\u0441\u043e\u0432")),!0):-1===[2,4,6,8,10,12,20].indexOf(parseInt(r))&&(b.a.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0434\u0430\u0439\u0441\u0435 ".concat(e,". \u041c\u043e\u0436\u043d\u043e \u0431\u0440\u043e\u0441\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u0430\u0439\u0441\u044b \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432 4 6 8 10 12 20")),!0)})))return!1}return!0},z=JSON.parse(localStorage.getItem("user")||"null");z&&localStorage.setItem("uid",z.uid);var P={userData:z,isLoggedIn:null!==z,settings:!1,loading:!1,messages:[],users:{},uid:z?z.uid:"",currentUser:null,items:[],error:!1},K={lastOnline:0,nickname:"",avatar:"",uid:""},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"GET_MESSAGES":case"GET_MORE_MESSAGES":case"SEND_MESSAGE":case"SET_USER":case"GET_ITEMS":case"GET_MORE_ITEMS":case"GET_ITEMS_BY_ID":case"CREATE_ITEM":case"DELETE_ITEM":case"GIVE_ITEM":case"REMOVE_ITEM":case"PASS_ITEM":case"UPLOAD_FILE":return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case"SET_USER_SUCCESS":case"SET_USER_FAIL":case"GET_MESSAGES_FAIL":case"GET_MORE_MESSAGES_SUCCESS":case"GET_MORE_MESSAGES_FAIL":case"GIVE_ITEM_SUCCESS":case"REMOVE_ITEM_SUCCESS":case"REMOVE_ITEM_FAIL":case"PASS_ITEM_SUCCESS":case"PASS_ITEM_FAIL":case"SEND_MESSAGE_FAIL":return Object(O.a)(Object(O.a)({},e),{},{loading:!1});case"LOGIN_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{uid:t.user.uid,userData:t.user,isLoggedIn:null!==t.user});case"LOGIN_FAIL":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:t.error});case"LOGOUT":return Object(O.a)(Object(O.a)({},e),{},{userData:null,isLoggedIn:!1});case"GET_MESSAGES_SUCCESS":var a=t.concat?[].concat(Object(C.a)(e.messages),Object(C.a)(t.messages)):t.messages;return Object(O.a)(Object(O.a)({},e),{},{messages:G(a),loading:!1});case"GET_USER_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{currentUser:t.currentUser?t.user:e.currentUser,users:Object(O.a)(Object(O.a)({},e.users),{},Object(S.a)({},t.uid,t.user))});case"GET_ITEMS_SUCCESS":var n={};return[].concat(Object(C.a)(e.items),Object(C.a)(t.items)).forEach((function(e){return n[e.id]=e})),Object(O.a)(Object(O.a)({},e),{},{loading:!1,items:Object.values(n)});case"DELETE_ITEM_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,items:e.items.filter((function(e){return e.id!==t.id}))});default:return e}},J=Object(y.a)(),W=Object(I.createStore)(V,P,Object(j.composeWithDevTools)(Object(I.applyMiddleware)(J))),q=W.dispatch,H=function(e){return function(t){return q(Object(O.a)({type:e},t))}},Y=function(e){var t,a=e.toLowerCase().replace(/_./g,(function(e){return e.toUpperCase()})).replace(/_/g,"");return t={},Object(S.a)(t,a,H(e)),Object(S.a)(t,"".concat(a,"Success"),H("".concat(e,"_SUCCESS"))),Object(S.a)(t,"".concat(a,"Fail"),H("".concat(e,"_FAIL"))),t},Z=Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)({},Y("LOGIN")),Y("GET_USER")),Y("GET_MESSAGES")),Y("GET_MORE_MESSAGES")),Y("SET_USER")),Y("SEND_MESSAGE")),Y("SUBSCRIBE")),Y("UNSUBSCRIBE")),Y("UPLOAD_FILE")),Y("SET_ITEM")),Y("DELETE_ITEM")),Y("GET_ITEMS")),Y("GET_ITEM_BY_ID")),Y("GET_MORE_ITEMS")),Y("GIVE_ITEM")),Y("REMOVE_ITEM")),Y("PASS_ITEM")),Y("TAKE_ITEM")),{},{updateLastOnline:H("UPDATE_LAST_ONLINE"),logout:H("LOGOUT")}),X=a(395),$=a(204),Q=a(389),ee=function(e){var t=e.avatar,a=e.nickname,n=e.style,c=Object($.a)(e,["avatar","nickname","style"]),i=D(t)?t:"";return r.a.createElement(Q.a,Object.assign({src:i,style:Object(O.a)(Object(O.a)({},n),{},{backgroundColor:i?"transparent":M(a)})},c),a)},te=a(31),ae=a(112),ne=a(396),re=a(404),ce=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1},e.toggleModal=function(){e.setState({visible:!e.state.visible})},e}return Object(ae.a)(a,[{key:"render",value:function(){var e=this.props.src;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{onClick:this.toggleModal,src:e,alt:"",className:"chat-image"}),r.a.createElement(ne.a,{title:r.a.createElement("div",null,r.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},e),r.a.createElement(re.a,{onClick:this.toggleModal})),className:"image-modal",closable:!1,footer:null,visible:this.state.visible,onCancel:this.toggleModal,width:"fit-content"},r.a.createElement("img",{style:{maxWidth:"90vw"},src:e,alt:""})))}}]),a}(n.Component),ie=(a(292),function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).getStats=function(){var t=e.props.item,a=t.type,n=t.armor,r=t.amount,c=t.capacity;switch(a){case"wearable":return n;case"weapon":return c;default:return"".concat(r,"\u0448\u0442")}},e.labels={wearable:"\u0417\u0430\u0449\u0438\u0442\u0430",weapon:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"},e.render=function(){var t=e.props.item,a=t.name,n=void 0===a?e.props.item.id:a,c=t.price,i=void 0===c?0:c,o=t.description,l=t.image,s=t.effect,u=t.weight,m=void 0===u?0:u,d=t.type,p=t.approved,f=e.props.footer,g=e.getStats();return r.a.createElement(X.a,{className:"item ".concat(p?"":"not-approved")},r.a.createElement("div",{className:"item-info"},r.a.createElement("div",{className:"item-name"},n),r.a.createElement("div",{className:"item-subinfo"},r.a.createElement("div",{className:"item-price"},"\u0426\u0435\u043d\u0430: ",i),r.a.createElement("div",{className:"item-weight"},"\u0412\u0435\u0441: ",m,"lb"))),(l||o)&&r.a.createElement("div",{className:"item-body"},l&&r.a.createElement("div",{className:"item-image"},r.a.createElement(ee,{avatar:l,nickname:n,shape:"square"})),o),(g||s)&&r.a.createElement("div",{className:"item-prefooter"},r.a.createElement("div",{className:"item-ammo"},g?"".concat(e.labels[d]||"\u041a\u043e\u043b-\u0432\u043e",": ").concat(g):""),r.a.createElement("div",{className:"item-effect"},s)),f&&r.a.createElement("div",{className:"item-footer"},f))},e}return a}(n.Component)),oe=Object(o.b)((function(e){return{loading:e.loading,items:e.items}}))((function(e){var t=e.id,a=e.loading,n=e.items.find((function(e){return e.id===t}));return n||a||Z.getItemById({id:t}),n?r.a.createElement(ie,{item:n}):r.a.createElement(r.a.Fragment,null)})),le=function(e){var t=e.message,a=t.body,n=t.isRP,c=t.rolls,i=t.data;if(i){var o=i.itemId,l=i.item;if(o)return r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"rp-message"},a,r.a.createElement(oe,{id:o.trim()}),l&&r.a.createElement(te.a,{className:"take-button"},"\u0417\u0430\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442")))}if(D(a)){if(/\.(gif|jpe?g|tiff|png|webp|bmp)/gi.test(a))return r.a.createElement(ce,{src:a});var s=r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},a);if(a.indexOf("youtu")>-1){var u=new URL(a).searchParams,m="listType=playlist",d=function(e){if(!(e.indexOf("youtu.be")>-1))return new URL(e).searchParams.get("v")||"";var t=e.match(/youtu\.be\/.* /i);if(t){var a=t.pop();if(a)return a.split("/").pop()||""}return""}(a);if(d){var p=u.get("list");p&&(m+="&list="+p);var f=u.get("t");return f&&(m+="&start="+f),r.a.createElement(r.a.Fragment,null,s,r.a.createElement("iframe",{title:d,id:"ytplayer",width:"100%",height:"360",src:"http://www.youtube.com/embed/".concat(d,"?").concat(m),frameBorder:"0",allow:"accelerometer; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))}}return s}var g=c?function(e,t){var a=Object(C.a)(t);return e.split(" ").map((function(e,t){var n=a.findIndex((function(t){return t.roll===e}));if(n>-1){var c=a.splice(n,1)[0],i=c.results,o=c.maxResult,l=c.minResult,s=c.sum,u=i.length>1?"".concat(s," = ").concat(i.join(" + ")):"".concat(i.join(" + ")),m=(s===o?"critHit":s===l&&"critMiss")||"";return r.a.createElement(r.a.Fragment,{key:e+t}," ",r.a.createElement(k.a,{title:u},r.a.createElement("b",{className:m},e,"(",s,")")))}return" ".concat(e)}))}(a,c):a;return n?r.a.createElement("i",{className:"rp-message"},g):r.a.createElement("span",null,g)},se=function(e){var t=e.message,a=t.time,n=t.grouped,c=t.body,i=t.mentioned,o=e.user,s=o&&r.a.createElement(l.b,{to:"./".concat(o.uid,"/settings")},r.a.createElement(k.a,{title:o.lastOnline?"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c: ".concat(F(o.lastOnline)):void 0,placement:"left"},r.a.createElement("div",{className:"chat-message__title ".concat(A(o.lastOnline)?"online":"")},r.a.createElement(ee,{avatar:o.avatar,nickname:o.nickname}),r.a.createElement("div",{className:"chat-message__nickname"},o.nickname||o.uid))));return r.a.createElement(X.a,{className:"chat-message ".concat(n?"grouped":""," ").concat(i&&o&&c.indexOf("@".concat(o.nickname," "))>-1?"mentioned":""),title:s,key:a,extra:r.a.createElement(k.a,{title:L(a)},r.a.createElement("div",{className:"chat-time"},N(a)))},r.a.createElement(le,{message:e.message}))},ue=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={message:"",sending:!1},e.componentDidMount=function(){Z.getMessages({}),Z.subscribe({}),e.setState({message:localStorage.getItem("message")||""})},e.componentWillUnmount=function(){Z.unsubscribe({})},e.componentDidUpdate=function(t){var a=e.props,n=a.messages,r=a.users;e.state.sending&&t.messages!==n&&(localStorage.setItem("message",""),e.setState({message:"",sending:!1})),n.forEach((function(e){r[e.author]||Z.getUser({uid:e.author})}))},e.onChangeMessage=function(t){var a=t.target.value;localStorage.setItem("message",a),e.setState({message:a})},e.onKeyDown=function(t){"Enter"!==t.key||t.shiftKey||(t.preventDefault(),e.onSendMessage());var a=e.props.uid;if("Up"===t.key||"ArrowUp"===t.key){var n=e.props.messages.find((function(e){return e.author===a}));if(n){var r=t.currentTarget,c=r.value,i=r.selectionStart;if(1===c.substr(0,i).split("\n").length){var o=n.body;localStorage.setItem("message",o),e.setState({message:o})}}}},e.onSendMessage=function(){var t=e.state.message,a=e.props,n=a.user,r=a.loading,c=a.uid;r||(n?n.nickname?B(t)&&(e.setState({sending:!0}),Z.sendMessage({uid:c,message:t})):b.a.error("\u041d\u0438\u043a\u043d\u0435\u0439\u043c \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d. \u041f\u0440\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438 \u043d\u0430\u0437\u043e\u0432\u0438\u0442\u0435 \u0441\u0435\u0431\u044f"):b.a.error("\u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"))},e.getMoreMessages=function(){Z.getMoreMessages({firstMessage:e.props.messages[e.props.messages.length-1]})},e.onScroll=function(t){t.currentTarget.scrollTop<=50&&(t.preventDefault(),e.getMoreMessages())},e.uploadFile=function(t,a){var n=e.props.uid;t&&(t.type.indexOf("image")>-1?Z.uploadFile({uid:n,file:t}):b.a.error("\u0422\u043e\u043b\u044c\u043a\u043e \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b"),a.preventDefault())},e.onPaste=function(t){e.uploadFile(t.clipboardData.files[0],t)},e.onDrop=function(t){var a=t.dataTransfer.items[0].getAsFile();a&&e.uploadFile(a,t)},e.render=function(){var t=e.props,a=t.messages,n=t.loading,c=t.users;return r.a.createElement(v.a,{spinning:n},r.a.createElement("div",{className:"chat-wrapper"},r.a.createElement("div",{className:"chat-body",onScroll:e.onScroll},a.map((function(e){return r.a.createElement(se,{key:e.time,message:e,user:c[e.author]})}))),r.a.createElement("div",{className:"chat-controls"},r.a.createElement(h.a.TextArea,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",autoSize:{minRows:1,maxRows:10},onChange:e.onChangeMessage,onKeyDown:e.onKeyDown,value:e.state.message,onPaste:e.onPaste,onDrop:e.onDrop}),r.a.createElement(E.a,{onClick:e.onSendMessage}))))},e}return a}(n.Component),me=Object(o.b)((function(e){var t=e.messages,a=e.uid,n=e.loading,r=e.users;return{messages:t,uid:a,loading:n,users:r,user:r[a]}}))(ue),de=a(402),pe=a(406),fe=function(){return r.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false",className:"anticon-spin","data-icon":"sync",width:"1em",height:"1em",fill:"#ff4d4f","aria-hidden":"true"},r.a.createElement("path",{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}))},ge=function(){return r.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false",className:"","data-icon":"check-circle",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},r.a.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:"#52c41a"}),r.a.createElement("path",{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z",fill:"transparent"}),r.a.createElement("path",{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z",fill:"#52c41a"}))},Ee=function(e){var t=e.loading;return r.a.createElement("div",{className:"loader"},t?r.a.createElement(fe,null):r.a.createElement(ge,null))},be=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).componentDidMount=function(){var t=e.props,a=t.user,n=t.uid;a||Z.getUser({uid:n})},e.onChange=function(t){return function(a){var n=e.props.user;if(n){var r=Object(O.a)(Object(O.a)({},n),{},Object(S.a)({},t,a.target.value));e.setSettings(r)}}},e.setSettings=function(t){var a=e.props.user;a&&Z.setUser({uid:a.uid,user:t})},e.clearAvatar=function(){return e.setSettings(Object(O.a)(Object(O.a)({},e.props.user),{},{avatar:""}))},e.getField=function(t,a,n){var c=n.nickname,i=void 0===c?"":c,o=!e.props.hasRight;switch(t){case"avatar":return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(h.a,{value:a,onChange:e.onChange(t),readOnly:o}),r.a.createElement(de.a,{title:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440?",onConfirm:e.clearAvatar,okText:"\u0414\u0430",cancelText:"\u041d\u0435\u0442",icon:r.a.createElement(pe.a,{style:{color:"#ff4d4f"}}),disabled:!a},r.a.createElement(te.a,{disabled:o||!a,danger:!0},r.a.createElement(pe.a,null)))),r.a.createElement(ee,{avatar:a,nickname:i,size:128,style:{margin:"8px auto",display:"block"}}));case"uid":return r.a.createElement(h.a,{value:a,readOnly:!0});case"lastOnline":return a?r.a.createElement(h.a,{value:F(parseInt(a)),readOnly:!0}):"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0435\u0449\u0451 \u043d\u0435 \u0431\u044b\u043b \u0430\u043a\u0442\u0438\u0432\u0435\u043d";default:return r.a.createElement(h.a,{defaultValue:a,onChange:e.onChange(t),readOnly:o})}},e.labels={avatar:"\u0410\u0432\u0430\u0442\u0430\u0440",nickname:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c",lastOnline:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",uid:"UID"},e.render=function(){var t=e.props,a=t.user,n=t.loading;return r.a.createElement(X.a,{className:"settings",bordered:!1,loading:void 0===a},r.a.createElement(Ee,{loading:n}),a&&Object.keys(K).map((function(t){return r.a.createElement(X.a,{className:t,key:t,title:e.labels[t]},e.getField(t,"".concat(a[t]||""),a))})))},e}return a}(r.a.Component),ve=Object(o.b)((function(e,t){var a=e.loading,n=e.users,r=e.currentUser,c=new URLSearchParams(t.match.params).get("uid")||e.uid||"0",i=n[c];return i&&!i.uid&&c&&(i.uid=c),{loading:a,user:i,uid:c,hasRight:!!i&&!!r&&(r.uid===i.uid||!!r.isAdmin)}}))(be),he=function(){return r.a.createElement(X.a,null,r.a.createElement(Q.a,{src:"https://cdn.lowgif.com/full/fc3d7d9abd06a92e-hi-bear-gifs-get-the-best-gif-on-giphy.gif",size:256,style:{margin:"0 auto",display:"block"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(te.a,{type:"primary",size:"large",onClick:function(){return Z.logout({})},style:{width:"100%"}},"\u0412\u044b\u0439\u0442\u0438"))},Se=a(391),Oe=a(399),Ie=a(398),ye=a(403),je=a(408),Ce=(a(310),a(91)),we=a(393),ke={id:"",type:"junk",name:"",effect:"",image:"",weight:0,price:0,description:"",capacity:0,approved:!1,armor:0,time:0,amount:0},xe=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state=ke,e.labels={id:"ID",type:"\u0422\u0438\u043f*",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435*",weight:"\u0412\u0435\u0441",effect:"\u042d\u0444\u0444\u0435\u043a\u0442",image:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",price:"\u0426\u0435\u043d\u0430",capacity:"\u0420\u0430\u0437\u043c\u0435\u0440 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430",armor:"\u0417\u0430\u0449\u0438\u0442\u0430",approved:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0451\u043d"},e.types=[{key:"weapon",value:"\u041e\u0440\u0443\u0436\u0438\u0435"},{key:"wearable",value:"\u041e\u0434\u0435\u0436\u0434\u0430/\u0411\u0440\u043e\u043d\u044f"},{key:"consumable",value:"\u0423\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u044f\u0435\u043c\u043e\u0435"},{key:"ammo",value:"\u041f\u0430\u0442\u0440\u043e\u043d\u044b"},{key:"misc",value:"\u041f\u0440\u043e\u0447\u0435\u0435"},{key:"note",value:"\u0417\u0430\u043f\u0438\u0441\u043a\u0430"},{key:"key",value:"\u041a\u043b\u044e\u0447"},{key:"junk",value:"\u041c\u0443\u0441\u043e\u0440"}],e.onChange=function(t,a){return e.setState(Object(S.a)({},t,a))},e.clearImage=function(){return e.setState({image:""})},e.fields={id:function(){return!1},type:function(t,a){return r.a.createElement(we.a,{value:t,onChange:function(t){return e.onChange(a,t)}},e.types.map((function(e){var t=e.key,a=e.value;return r.a.createElement(we.a.Option,{value:t,key:t},a)})))},name:function(t,a){return r.a.createElement(h.a,{value:t,onChange:function(t){return e.onChange(a,t.currentTarget.value)}})},weight:function(t,a){return r.a.createElement(ye.a,{value:t,min:0,precision:1,onChange:function(t){return e.onChange(a,t||0)},step:.1})},effect:function(t,a){return r.a.createElement(h.a,{value:t,onChange:function(t){return e.onChange(a,t.currentTarget.value)}})},image:function(t,a){return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(h.a,{value:t,onChange:function(t){return e.onChange(a,t.currentTarget.value)}}),r.a.createElement(de.a,{title:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443?",onConfirm:e.clearImage,okText:"\u0414\u0430",cancelText:"\u041d\u0435\u0442",icon:r.a.createElement(pe.a,{style:{color:"#ff4d4f"}})},r.a.createElement(te.a,{disabled:!t,danger:!0},r.a.createElement(pe.a,null)))),r.a.createElement(ee,{shape:"square",avatar:t,nickname:t,size:128,style:{margin:"8px auto",display:"block"}}))},description:function(t,a){return r.a.createElement(h.a.TextArea,{value:t,onChange:function(t){return e.onChange(a,t.currentTarget.value)}})},price:function(t,a){return r.a.createElement(ye.a,{value:t,min:0,step:1,onChange:function(t){return e.onChange(a,t||0)}})},capacity:function(t,a,n){return"weapon"===n.type&&r.a.createElement(ye.a,{value:t,min:1,step:1,onChange:function(t){return e.onChange(a,t||1)}})},armor:function(t,a,n){return"wearable"===n.type&&r.a.createElement(ye.a,{value:t,min:0,step:1,onChange:function(t){return e.onChange(a,t||0)}})},approved:function(t,a){return e.props.isAdmin&&r.a.createElement(Se.a,{checked:t,disabled:!e.props.isAdmin,onChange:function(t){return e.onChange(a,t)}})}},e.getField=function(t,a,n){var r=e.fields[t];return r&&r(a,t,n)},e.onSubmit=function(){var t=Object(Ce.a)(e).state,a=e.props,n=a.onSubmit,r=a.item,c=void 0===r?{}:r,i=Object(O.a)({},t);Object.keys(t).forEach((function(e){return i[e]=i[e]===ke[e]&&c[e]||i[e]})),i.name?(e.props.isAdmin&&!e.props.item&&(i.approved=!0),n(i),e.setState(ke)):b.a.error("\u0418\u043c\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c")},e.content=function(){var t=Object(Ce.a)(e).state,a=e.props.item,n=void 0===a?{}:a;return r.a.createElement("div",{className:"item-creator"},r.a.createElement("div",{className:"item-creator__body"},Object.keys(ke).map((function(a){var c=t[a]===ke[a]&&n[a]||t[a],i=e.getField(a,c,t);return i&&r.a.createElement(X.a,{className:a,key:a,title:e.labels[a]},i)}))),r.a.createElement("div",{className:"item-creator__controls"},r.a.createElement(de.a,{title:"\u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043e\u0431\u043d\u0443\u043b\u0435\u043d\u044b",onConfirm:function(){return e.setState(ke)},okText:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",icon:r.a.createElement(pe.a,{style:{color:"#ff4d4f"}})},r.a.createElement(te.a,null,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c")),r.a.createElement(de.a,{title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",onConfirm:e.onSubmit,okText:"\u0413\u043e\u0442\u043e\u0432\u043e",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",icon:r.a.createElement(pe.a,{style:{color:"#15395b"}})},r.a.createElement(te.a,null,"\u0413\u043e\u0442\u043e\u0432\u043e"))))},e.render=function(){var t=e.props,a=t.onClose,n=t.visible;return r.a.createElement(ne.a,{className:"item-creator-modal",centered:!0,closable:!1,onCancel:a,footer:null,visible:n,title:r.a.createElement(re.a,{onClick:a})},e.content())},e}return a}(n.Component),Te=a(85),_e=a(407),Me=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).getFooter=function(t){var a=e.props.controls;if(a){var n=a.map((function(e){var a=e.label,n=e.onClick,c=(e.isAdmin,e.condition);return(!c||c(t))&&r.a.createElement(s.a.Item,{key:a},r.a.createElement(te.a,{onClick:function(){return n(t)}},a))})).filter((function(e){return!!e}));if(0!==n.length)return r.a.createElement(Ie.a,{overlay:r.a.createElement(s.a,null,n),trigger:["click"]},r.a.createElement(te.a,null,r.a.createElement(_e.a,null)))}},e.render=function(){var t=e.props.items;return t&&0!==t.length?r.a.createElement("div",{className:"items-body"},t.map((function(t){return r.a.createElement(ie,{key:t.id+t.time,item:t,footer:e.getFooter(t)})}))):r.a.createElement(Te.a,{description:"\u041d\u0435\u0442 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432"})},e}return a}(n.Component),Ae=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={creatingItem:!1,editingItem:null,searchString:"",itemsToLoad:99,showApproved:!0,showNotApproved:!1,filters:{weapon:!0,consumable:!0,wearable:!0,junk:!0,ammo:!0,note:!0,key:!0,misc:!0}},e.componentDidMount=function(){Z.getItems({})},e.toggleCreatingItem=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!e.state.creatingItem;return e.setState({creatingItem:t})},e.toggleEditingItem=function(t){return e.setState({editingItem:t||null})},e.onCreateItem=function(t){Z.setItem({item:t}),e.toggleCreatingItem(!1),e.toggleEditingItem(null)},e.getCreators=function(){var t=e.state,a=t.creatingItem,n=t.editingItem,c=e.props.currentUser,i=!(!c||!c.isAdmin);return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,{visible:a,onClose:function(){return e.toggleCreatingItem(!1)},onSubmit:e.onCreateItem,isAdmin:i}),r.a.createElement(xe,{visible:!!n,onClose:function(){return e.toggleEditingItem(null)},onSubmit:e.onCreateItem,item:n||void 0,isAdmin:i}))},e.onFilterChange=function(t){return e.setState({filters:e.state.filters})},e.getFilters=function(){var t=e.state,a=t.showNotApproved,n=t.showApproved,c=t.filters,i=function(t,a){return r.a.createElement("div",{tabIndex:0,className:"items-approved-button",onClick:function(){return e.setState({filters:Object(O.a)(Object(O.a)({},c),{},Object(S.a)({},t,!c[t]))})}},r.a.createElement(Se.a,{checked:c[t]}),a)};return r.a.createElement(Oe.a.Group,{onChange:e.onFilterChange,defaultValue:void 0,style:{display:"flex",flexDirection:"column"}},i("weapon","\u041e\u0440\u0443\u0436\u0438\u0435"),i("consumable","\u0423\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u044f\u0435\u043c\u043e\u0435"),i("wearable","\u041e\u0434\u0435\u0436\u0434\u0430/\u0411\u0440\u043e\u043d\u044f"),i("ammo","\u041f\u0430\u0442\u0440\u043e\u043d\u044b"),i("junk","\u041c\u0443\u0441\u043e\u0440"),i("note","\u0417\u0430\u043f\u0438\u0441\u043a\u0438"),i("key","\u041a\u043b\u044e\u0447\u0438"),i("misc","\u041f\u0440\u043e\u0447\u0435\u0435"),r.a.createElement("div",{tabIndex:0,className:"items-approved-button",onClick:function(){return e.setState({showApproved:!n})}},r.a.createElement(Se.a,{checked:n}),"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043d\u044b\u0435"),r.a.createElement("div",{tabIndex:0,className:"items-approved-button",onClick:function(){return e.setState({showNotApproved:!a})}},r.a.createElement(Se.a,{checked:a}),"\u041d\u0435 \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043d\u044b\u0435"))},e.getControls=function(){return r.a.createElement("div",{className:"items-controls"},r.a.createElement(te.a,{onClick:function(){return e.toggleCreatingItem(!0)}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442"),r.a.createElement(h.a,{placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430",onChange:function(t){return e.setState({searchString:t.currentTarget.value})},allowClear:!0}),r.a.createElement(Ie.a,{overlay:e.getFilters(),trigger:["click"]},r.a.createElement(te.a,null,r.a.createElement(je.a,null))),r.a.createElement(k.a,{title:"\u041a\u043e\u043b-\u0432\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u044b\u0445 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432 \u0437\u0430 \u0440\u0430\u0437"},r.a.createElement(ye.a,{value:e.state.itemsToLoad,min:1,max:99,onChange:function(t){return e.setState({itemsToLoad:t||1})}})))},e.deleteModal=function(e){return ne.a.confirm({title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",content:"\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c. \u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",maskClosable:!0,okText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",onOk:function(t){Z.deleteItem({id:e.id}),t()}})},e.cardControls=[{label:"\u0412\u0437\u044f\u0442\u044c",onClick:function(t){return Z.giveItem({id:t.id,uid:e.props.uid,itemType:t.type})},condition:function(){return Boolean(e.props.currentUser&&e.props.currentUser.isAdmin)}},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",onClick:function(t){return e.toggleEditingItem(t)},condition:function(t){return Boolean(e.props.uid===t.author&&!t.approved||e.props.currentUser&&e.props.currentUser.isAdmin)}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(t){return e.deleteModal(t)},condition:function(t){return Boolean(e.props.uid===t.author&&!t.approved||e.props.currentUser&&e.props.currentUser.isAdmin)}}],e.getItemsList=function(t){var a=e.props,n=a.currentUser,c=a.uid;return r.a.createElement(Me,{items:t,uid:c,currentUser:n,toggleEditingItem:e.toggleEditingItem,controls:e.cardControls})},e.getFooter=function(t){var a=e.state.itemsToLoad;return e.props.loading?r.a.createElement(r.a.Fragment,null):r.a.createElement(te.a,{className:"items-load-button",onClick:function(){return Z.getMoreItems({amount:a,lastItem:t[t.length-1]})}},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c ",a,"\u0448\u0442")},e.render=function(){var t=e.props.loading,a=e.items;return r.a.createElement(X.a,{className:"items"},r.a.createElement(Ee,{loading:t}),e.getCreators(),e.getControls(),e.getItemsList(a),e.getFooter(a))},e}return Object(ae.a)(a,[{key:"items",get:function(){var e=this.state,t=e.searchString,a=e.filters,n=e.showApproved,r=e.showNotApproved,c=t.toLowerCase();return this.props.items.filter((function(e){var t=e.name,i=e.description,o=e.effect,l=e.type,s=e.approved;return(t&&t.toLowerCase().indexOf(c)>-1||i&&i.toLowerCase().indexOf(c)>-1||o&&o.toLowerCase().indexOf(c)>-1)&&a[l]&&(n&&!0===s||r&&!1===s)}))}}]),a}(r.a.Component),Ue=Object(o.b)((function(e){return{loading:e.loading,currentUser:e.currentUser,uid:e.uid,items:e.items}}))(Ae),Ne=function(){},Le=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).componentDidMount=Ne,e.getFooter=Ne,e.getCreators=function(){var t=e.state.editingItem,a=e.props.currentUser,n=!(!a||!a.isAdmin);return r.a.createElement(xe,{visible:!!t,onClose:function(){return e.toggleEditingItem(null)},onSubmit:e.onCreateItem,item:t||void 0,isAdmin:n})},e.getControls=function(){return r.a.createElement("div",{className:"items-controls"},r.a.createElement(h.a,{placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430",onChange:function(t){return e.setState({searchString:t.currentTarget.value})},allowClear:!0}),r.a.createElement(Ie.a,{overlay:e.getFilters(),trigger:["click"]},r.a.createElement(te.a,null,r.a.createElement(je.a,null))))},e.getInventoryItems=function(t){var a=e.props,n=a.inventory,r=a.loading;if(n&&!r){var c=Object.values(n),i=[],o=[];return c.forEach((function(e){var a=e.id,n=t.find((function(e){return e.id===a}));n?i.push(Object(O.a)(Object(O.a)({},n),e)):o.push(a)})),o.length>0&&Z.getItemById({id:o.shift()}),i}return[]},e.cardControls=[{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",onClick:function(t){return Z.passItem({id:t.id,uid:e.props.uid,demonstrate:!0})}},{label:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c",onClick:function(t){return Z.passItem({id:t.id,uid:e.props.uid,use:!0})}},{label:"\u0412\u044b\u0431\u0440\u043e\u0441\u0438\u0442\u044c",onClick:function(t){return Z.passItem({id:t.id,uid:e.props.uid,item:t})}},{label:"\u041f\u0435\u0440\u0435\u0434\u0430\u0442\u044c",onClick:function(e){}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(t){return ne.a.confirm({title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",maskClosable:!0,okText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",autoFocusButton:"cancel",content:r.a.createElement("div",null,r.a.createElement("span",null,"\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c. \u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?"),r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(te.a,{style:{width:"-webkit-fill-available"},onClick:function(){Z.removeItem({id:t.id,uid:e.props.uid}),b.a.success("\u0423\u0434\u0430\u043b\u0435\u043d\u043e")}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0434\u0438\u043d")),onOk:function(a){Z.removeItem({id:t.id,uid:e.props.uid,all:!0}),a()}})},condition:function(){return Boolean(e.props.currentUser&&e.props.currentUser.isAdmin)}}],e.getItemsList=function(t){var a=e.props,n=a.currentUser,c=a.uid;return r.a.createElement(Me,{uid:c,currentUser:n,toggleEditingItem:e.toggleEditingItem,items:e.getInventoryItems(t),controls:e.cardControls})},e}return a}(Ae),Fe=Object(o.b)((function(e){var t=e.loading,a=e.users,n=e.uid,r=e.currentUser,c=e.items,i=a[n];return{loading:t,uid:n,items:c,inventory:i?i.inventory:{},currentUser:r}}))(Le),De=[{path:"/text-roleplay/chat",component:me},{path:"/text-roleplay/:uid/settings",component:ve,exact:!0},{path:"/text-roleplay/:uid/inventory",component:Fe,exact:!0},{path:"/text-roleplay/inventory",component:Fe,exact:!0},{path:"/text-roleplay/settings",component:ve,exact:!0},{path:"/text-roleplay/items",component:Ue},{path:"/text-roleplay/help",component:function(){return r.a.createElement(X.a,{className:"help"},"\u0427\u0430\u0442 \u0434\u043b\u044f \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0439 \u0440\u043e\u043b\u0435\u0432\u043e\u0439 \u0438\u0433\u0440\u044b. \u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c, \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0447\u0430\u0442\u043e\u043c, \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430, \u043f\u0440\u043e\u0444\u0438\u043b\u044f.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h1",null,"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438"),r.a.createElement("pre",null,"- \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0432 \u0447\u0430\u0442 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0438\u0437 \u0431\u0443\u0444\u0435\u0440\u0430 \u043e\u0431\u043c\u0435\u043d\u0430 (ctrl + v) \u043b\u0438\u0431\u043e \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u044f \u0432 \u043f\u043e\u043b\u0435 \u0432\u0432\u043e\u0434\u0430",r.a.createElement("br",null),"- \u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438",r.a.createElement("br",null),"- \u0412\u0441\u0442\u0430\u0432\u043a\u0430 \u0441\u0441\u044b\u043b\u043e\u043a",r.a.createElement("br",null),"- \u0412\u0441\u0442\u0430\u0432\u043a\u0430 YouTube \u0432\u0438\u0434\u0435\u043e (\u043f\u043e\u043b\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430, \u043d\u0435 youtu.be)",r.a.createElement("br",null),"- \u0411\u0440\u043e\u0441\u043a\u0438 \u0434\u0430\u0439\u0441\u043e\u0432",r.a.createElement("br",null),"- \u0412 \u043e\u0434\u043d\u043e\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 10-\u0442\u0438 \u0434\u0430\u0439\u0441\u043e\u0432 - \u041a\u043e\u043b-\u0432\u043e \u0434\u0430\u0439\u0441\u043e\u0432 \u0432 \u043f\u0435\u0440\u0432\u043e\u0439 \u0446\u0438\u0444\u0440\u0435. \u041d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 10",r.a.createElement("br",null),'- \u0411\u0443\u043a\u0432\u0430 "\u0434" \u0438\u043b\u0438 "d" \u0432\u0442\u043e\u0440\u044b\u043c \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u043c',r.a.createElement("br",null),"- \u0420\u0430\u0437\u043c\u0435\u0440 \u0434\u0430\u0439\u0441\u0430 \u0432\u043e \u0432\u0442\u043e\u0440\u043e\u0439 \u0446\u0438\u0444\u0440\u0435. \u0422\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430 4 6 8 10 12 \u0438 20",r.a.createElement("br",null),"- \u041f\u0440\u0438\u043c\u0435\u0440\u044b: 1\u043410, 2\u043420, 9d4",r.a.createElement("br",null),"- \u041f\u0440\u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c \u0434\u0430\u0439\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e",r.a.createElement("br",null),"- \u0414\u0430\u0439\u0441 \u043c\u043e\u0436\u043d\u043e \u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u043b\u044e\u0431\u043e\u043c \u043c\u0435\u0441\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0443\u0433\u043e\u0434\u043d\u043e \u0440\u0430\u0437",r.a.createElement("br",null),"- \u041f\u0440\u0438 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0438 \u043d\u0430 \u0431\u0440\u043e\u0448\u0435\u043d\u043d\u044b\u0439 \u0434\u0430\u0439\u0441 \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u043f\u043e\u043b\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",r.a.createElement("br",null),"- \u041a\u0440\u0438\u0442 \u043f\u043e\u043f\u0430\u0434\u0430\u043d\u0438\u044f \u0438 \u043f\u0440\u043e\u043c\u0430\u0445\u0438 \u0441\u043b\u0435\u0433\u043a\u0430 \u043f\u043e\u0434\u0441\u0432\u0435\u0447\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0437\u0435\u043b\u0435\u043d\u044b\u043c \u0438 \u043a\u0440\u0430\u0441\u043d\u044b\u043c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e",r.a.createElement("br",null),'- \u0420\u041f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u0435\u0441\u043b\u0438 \u043f\u0435\u0440\u0432\u044b\u043c \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u043c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c "*"',r.a.createElement("br",null),"- \u0418\u0433\u0440\u043e\u043a\u0438 \u043e\u043d\u043b\u0430\u0439\u043d \u0438\u043c\u0435\u044e\u0442 \u0441\u0438\u043d\u044e\u044e \u043e\u0431\u0432\u043e\u0434\u043a\u0443 \u0432\u043e\u043a\u0440\u0443\u0433 \u0430\u0432\u0430\u0442\u0430\u0440\u0430",r.a.createElement("br",null),"- \u041f\u0440\u0438 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0438 \u043d\u0430 \u0438\u0433\u0440\u043e\u043a\u0430 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043e\u043d\u043b\u0430\u0439\u043d",r.a.createElement("br",null),"- \u041f\u0440\u0438 \u043a\u043b\u0438\u043a\u0435 \u043d\u0430 \u0438\u0433\u0440\u043e\u043a\u0430 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a",r.a.createElement("br",null),"- \u0410\u0434\u043c\u0438\u043d\u044b \u043c\u043e\u0433\u0443\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432",r.a.createElement("br",null),"- \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u043c\u0435\u043d\u0438 \u0438 \u0430\u0432\u0430\u0442\u0430\u0440\u0430",r.a.createElement("br",null),"- \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u0441\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f (\u0434\u0430\u0436\u0435 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f)",r.a.createElement("br",null),"- \u0412\u0441\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0432\u0438\u0434\u044f\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",r.a.createElement("br",null),"- \u041f\u0440\u0438 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0438 \u043d\u0430 \u0432\u0440\u0435\u043c\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0435\u0433\u043e \u0434\u0430\u0442\u0430",r.a.createElement("br",null),"- \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0442 \u043e\u0434\u043d\u043e\u0433\u043e \u0430\u0432\u0442\u043e\u0440\u0430 \u0441\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u044b",r.a.createElement("br",null),"- \u041f\u0440\u0435\u0434\u043c\u0435\u0442\u044b (\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435, \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435)",r.a.createElement("br",null),"- \u0422\u043e\u043b\u044c\u043a\u043e \u0430\u0434\u043c\u0438\u043d \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b",r.a.createElement("br",null),"- \u0423\u0434\u0430\u043b\u044f\u0442\u044c \u0438 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0435 \u0442\u043e\u0431\u043e\u0439 \u0436\u0435, \u043b\u0438\u0431\u043e \u0435\u0441\u043b\u0438 \u0430\u0434\u043c\u0438\u043d",r.a.createElement("br",null),"- \u0424\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u0442\u0438\u043f\u0443 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430",r.a.createElement("br",null),"- \u041f\u043e\u0438\u0441\u043a \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e, \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044e \u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0443 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432",r.a.createElement("br",null),"- \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432 \u043f\u043e \u043d\u0430\u0436\u0430\u0442\u0438\u044e \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 (\u043d\u0435 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445)",r.a.createElement("br",null),"- \u0412\u044b\u0431\u043e\u0440 \u043a\u043e\u043b-\u0432\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u044b\u0445 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432",r.a.createElement("br",null),"- \u0412 \u0432\u0435\u0440\u0445\u043d\u0435\u043c \u043b\u0435\u0432\u043e\u043c \u0443\u0433\u043b\u0443 \u0434\u0430\u0442\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u0431\u0438\u043b\u0434\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430. \u041f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0438 \u043a\u0443\u0440\u0441\u043e\u0440\u0430",r.a.createElement("br",null),"- \u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c",r.a.createElement("br",null),"- \u0410\u0434\u043c\u0438\u043d \u043c\u043e\u0436\u0435\u0442 \u0432\u0437\u044f\u0442\u044c \u0432 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430",r.a.createElement("br",null),"- \u041f\u0440\u0435\u0434\u043c\u0435\u0442 \u0438\u0437 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044f \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u043d \u0434\u0440\u0443\u0433\u0438\u043c \u0432 \u0447\u0430\u0442\u0435",r.a.createElement("br",null),"- ",r.a.createElement("br",null)),r.a.createElement("h1",null,"\u0411\u0430\u0433\u0438/\u043e\u0448\u0438\u0431\u043a\u0438/\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"),r.a.createElement("pre",null,"- \u0421\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0433\u0443\u0433\u043b \u0434\u0430\u044e\u0442 SameSite cookies \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435",r.a.createElement("br",null),"- \u0420\u0435\u0448\u0438\u0442\u044c, \u043a\u0430\u043a \u043f\u043e\u043f\u0430\u0441\u0442\u044c \u043d\u0430 \u0447\u0443\u0436\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044f",r.a.createElement("br",null),"- \u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e \u0441 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435\u043c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 \u043e\u0442 \u0430\u0434\u043c\u0438\u043d\u0430",r.a.createElement("br",null),"- \u0421\u0434\u0435\u043b\u0430\u0442\u044c lazy loading \u0434\u043b\u044f \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",r.a.createElement("br",null),"- Lazy loading \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0439 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b",r.a.createElement("br",null),"- \u041d\u0443\u0436\u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u0441\u043a\u0440\u043e\u043b\u043b\u0430 \u0432 \u043d\u0438\u0437 \u0447\u0430\u0442\u0430",r.a.createElement("br",null),"- \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u0432\u0430\u0442\u0430\u0440\u0430 \u0447\u0435\u0440\u0435\u0437 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430",r.a.createElement("br",null),"- \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043a \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438",r.a.createElement("br",null),"- \u041f\u043e\u0440\u0435\u0437\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u044b \u043d\u0430 \u0444\u0430\u0439\u043b\u044b \u043f\u043e\u043c\u0435\u043d\u044c\u0448\u0435",r.a.createElement("br",null),"- \u0423 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 \u043d\u0435\u043b\u044c\u0437\u044f \u0443\u0431\u0440\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043d\u043e\u0433\u043e",r.a.createElement("br",null),"- \u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0430 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 \u0438\u0437 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044f \u0432 \u0447\u0430\u0442 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0442\u044c\u0441\u044f \u0432 \u044d\u0442\u043e\u0442 \u0441\u0430\u043c\u044b\u0439 \u0447\u0430\u0442",r.a.createElement("br",null),"- ",r.a.createElement("br",null)),r.a.createElement("h1",null,"Todo"),r.a.createElement("pre",null,"- Character page",r.a.createElement("br",null),"- Local Notes",r.a.createElement("br",null),"- Global notes",r.a.createElement("br",null),"- Drawing",r.a.createElement("br",null),"- ",r.a.createElement("br",null)))}},{path:"/text-roleplay/logout",component:he}],Ge=a(392),Re=a(401),Be=Object(o.b)((function(e){return{loading:e.loading,error:e.error}}))((function(e){var t=e.error,a=e.loading;return r.a.createElement(X.a,{loading:a},r.a.createElement(Ge.a,{onFinish:function(e){return Z.login(e)}},r.a.createElement(Ge.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail!"}]},r.a.createElement(h.a,null)),r.a.createElement(Ge.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}]},r.a.createElement(h.a.Password,null)),r.a.createElement(Ge.a.Item,null,r.a.createElement(te.a,{type:"primary",htmlType:"submit"},"\u0412\u043e\u0439\u0442\u0438"))),t&&r.a.createElement(Re.a,{type:"error",message:t.message}))}));var ze=Object(o.b)((function(e){return{isLoggedIn:e.isLoggedIn}}))((function(e){return e.isLoggedIn?r.a.createElement(u.d,null,De.map((function(e){return r.a.createElement(u.b,{key:e.path,path:e.path,component:e.component,exact:e.exact||!1})})),r.a.createElement(u.a,{to:"/text-roleplay/chat"})):r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"*",component:Be}))})),Pe=(a(381),a(382),a(383),r.a.createElement("div",{className:"build-date"},"build date ",window.buildDate.replace("_"," ")));var Ke=function(){return function(){var e=function(){A(parseInt(localStorage.getItem("lastActivity")||"0")-6e4)||Z.updateLastOnline({})};["mousedown","mousemove","keydown","scroll","touchstart"].forEach((function(t){document.addEventListener(t,e,!0)})),e()}(),r.a.createElement(r.a.Fragment,null,Pe,r.a.createElement(l.a,null,r.a.createElement(d,null),r.a.createElement("div",{className:"app"},r.a.createElement(ze,null))))},Ve=a(6),Je=a.n(Ve),We=a(16),qe=a(198),He=a.n(qe),Ye=(a(384),a(386),a(199)),Ze=He.a.initializeApp(Ye),Xe=Ze.auth(),$e=Ze.database();Xe.onAuthStateChanged((function(e){e?(Z.loginSuccess({user:e}),Z.getUser({uid:e.uid,currentUser:!0})):Z.logout({})}));var Qe=Je.a.mark(at),et=Je.a.mark(nt),tt=Je.a.mark(rt);function at(e){var t,a,n,r;return Je.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.email,a=e.password,c.prev=1,c.next=4,Xe.signInWithEmailAndPassword(t,a);case 4:n=c.sent,Z.loginSuccess({user:n}),localStorage.setItem("user",JSON.stringify(n.user)),localStorage.setItem("uid",n.user.uid),c.next=23;break;case 10:if(c.prev=10,c.t0=c.catch(1),console.error(c.t0),"auth/user-not-found"!==c.t0.code){c.next=22;break}return c.next=16,Xe.createUserWithEmailAndPassword(t,a);case 16:r=c.sent,Z.loginSuccess({user:r}),localStorage.setItem("user",JSON.stringify(r.user)),localStorage.setItem("uid",r.uid),c.next=23;break;case 22:Z.loginFail({error:c.t0});case 23:case"end":return c.stop()}}),Qe,null,[[1,10]])}function nt(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("user"),localStorage.removeItem("uid"),localStorage.removeItem("loggedIn"),e.next=5,Xe.signOut();case 5:case"end":return e.stop()}}),et)}function rt(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.a)([Object(We.c)("LOGIN",at),Object(We.c)("LOGOUT",nt)]);case 2:case"end":return e.stop()}}),tt)}var ct=Je.a.mark(lt),it=Je.a.mark(mt),ot=Je.a.mark(dt);function lt(e){var t,a;return Je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.uid,a=e.user,n.next=3,$e.ref("users").child(t).set(Object(O.a)(Object(O.a)({},a),{},{lastOnline:(new Date).getTime(),uid:t}));case 3:Z.setUserSuccess({}),Z.getUser({uid:t});case 5:case"end":return n.stop()}}),ct)}var st={};function ut(e){var t=e.uid,a=e.currentUser;st[t]&&!a||(st[t]=!0,$e.ref("users").child(t).on("value",(function(e){var n=e.val()||{};Z.getUserSuccess({user:n,uid:t,currentUser:a})})))}function mt(){var e,t;return Je.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((e=localStorage.getItem("uid"))&&"undefined"!==e){a.next=3;break}return a.abrupt("return");case 3:return t=(new Date).getTime(),localStorage.setItem("lastActivity","".concat(t)),a.next=7,$e.ref("users").child("".concat(e)).child("lastOnline").set(t);case 7:case"end":return a.stop()}}),it)}function dt(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.a)([Object(We.c)("GET_USER",ut),Object(We.c)("SET_USER",lt),Object(We.c)("UPDATE_LAST_ONLINE",mt)]);case 2:case"end":return e.stop()}}),ot)}var pt=Je.a.mark(bt),ft=Je.a.mark(St),gt=Je.a.mark(Ot),Et=Je.a.mark(yt);function bt(e){var t,a,n,r;return Je.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.uid,a=e.message,n=e.data,r=(new Date).getTime(),c.next=4,$e.ref("messages").child("".concat(r)).set(R({time:r,author:t,body:"".concat(a," "),data:n}));case 4:localStorage.setItem("message",""),Z.sendMessageSuccess({});case 6:case"end":return c.stop()}}),pt)}function vt(){$e.ref("messages").orderByKey().limitToLast(1).on("value",(function(e){var t=Object.values(e.val()||{});Z.getMessagesSuccess({messages:t,concat:!0})}))}function ht(){$e.ref("messages").off()}function St(){var e,t;return Je.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,$e.ref("messages").orderByKey().limitToLast(30).once("value");case 2:e=a.sent,t=Object.values(e.val()||{}),Z.getMessagesSuccess({messages:t});case 5:case"end":return a.stop()}}),ft)}function Ot(e){var t,a,n;return Je.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.firstMessage,r.next=3,$e.ref("messages").orderByKey().endAt("".concat(t.time)).limitToLast(30).once("value");case 3:a=r.sent,n=Object.values(a.val()||{}),Z.getMessagesSuccess({messages:n,concat:!0});case 6:case"end":return r.stop()}}),gt)}function It(e){var t=e.file,a=e.uid,n=new XMLHttpRequest,r=new FormData;r.append("image",t),n.open("POST","https://api.imgur.com/3/image/"),n.setRequestHeader("Authorization","Client-ID ea2c833b74d4583"),n.onreadystatechange=function(){if(200===n.status&&4===n.readyState){var e=JSON.parse(n.responseText);Z.sendMessage({uid:a,message:e.data.link})}},n.send(r)}function yt(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.a)([Object(We.c)("SEND_MESSAGE",bt),Object(We.c)("GET_MESSAGES",St),Object(We.c)("GET_MORE_MESSAGES",Ot),Object(We.c)("SUBSCRIBE",vt),Object(We.c)("UNSUBSCRIBE",ht),Object(We.c)("UPLOAD_FILE",It)]);case 2:case"end":return e.stop()}}),Et)}var jt=Je.a.mark(Lt),Ct=Je.a.mark(Ft),wt=Je.a.mark(Dt),kt=Je.a.mark(Gt),xt=Je.a.mark(Rt),Tt=Je.a.mark(Bt),_t=Je.a.mark(zt),Mt=Je.a.mark(Pt),At=Je.a.mark(Kt),Ut=Je.a.mark(Vt),Nt=Je.a.mark(Jt);function Lt(e){var t,a,n,r,c;return Je.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.item,a=(new Date).getTime(),n=t.id||"_"+Math.random().toString(36).substr(2,9),r=localStorage.getItem("uid"),c=Object(O.a)(Object(O.a)({},t),{},{id:n,time:a,author:r}),i.next=7,$e.ref("items").child("".concat(n)).set(c);case 7:Z.setItemSuccess({itemData:c}),Z.getItemById({id:n});case 9:case"end":return i.stop()}}),jt)}function Ft(){var e,t;return Je.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,$e.ref("items").orderByKey().limitToFirst(30).once("value");case 2:e=a.sent,t=Object.values(e.val()||{}),Z.getItemsSuccess({items:t});case 5:case"end":return a.stop()}}),Ct)}function Dt(e){var t,a,n;return Je.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,r.next=3,$e.ref("items").child(t).once("value");case 3:a=r.sent,n=a.val(),Z.getItemsSuccess({items:[n]});case 6:case"end":return r.stop()}}),wt)}function Gt(e){var t,a,n,r,c,i;return Je.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.amount,a=void 0===t?1:t,n=e.lastItem,o.next=3,$e.ref("items").orderByKey().startAt("".concat(n.id)).limitToFirst(a+1).once("value");case 3:r=o.sent,c=r.val(),console.log(c),i=Object.values(c||{}).splice(1),Z.getItemsSuccess({items:i});case 8:case"end":return o.stop()}}),kt)}function Rt(e){var t;return Je.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.id,a.next=3,$e.ref("items").child(t).remove();case 3:Z.deleteItemSuccess({id:t});case 4:case"end":return a.stop()}}),xt)}function Bt(e){var t,a,n,r,c,i;return Je.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.id,a=e.uid,n=e.demonstrate,r=e.use,c=e.item,!t||!a){o.next=21;break}if(!n){o.next=6;break}return Z.sendMessage({uid:a,message:"*\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043f\u0440\u0435\u0434\u043c\u0435\u0442",data:{itemId:t}}),Z.passItemSuccess({}),o.abrupt("return",!0);case 6:return o.next=8,zt({id:t,uid:a});case 8:if(i=o.sent){o.next=13;break}return Z.passItemFail({id:t,uid:a}),console.error("Pass item error",e),o.abrupt("return",!1);case 13:if(!r){o.next=17;break}return Z.sendMessage({uid:a,message:"*\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b \u043f\u0440\u0435\u0434\u043c\u0435\u0442",data:{itemId:t}}),Z.passItemSuccess({}),o.abrupt("return",!0);case 17:if(!i||!c){o.next=21;break}return Z.sendMessage({uid:a,message:"*\u0432\u044b\u0431\u0440\u043e\u0441\u0438\u043b \u043f\u0440\u0435\u0434\u043c\u0435\u0442",data:{itemId:t,item:c}}),Z.passItemSuccess({}),o.abrupt("return",!0);case 21:return Z.passItemFail({id:t,uid:a}),console.error("Pass item error. id and uid are not defined",e),o.abrupt("return",!1);case 24:case"end":return o.stop()}}),Tt)}function zt(e){var t,a,n,r,c,i;return Je.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.id,a=e.uid,n=e.all,r=$e.ref("users").child(a).child("inventory"),o.next=4,Pt({id:t,uid:a});case 4:if(!(c=o.sent)){o.next=16;break}if(n||!(c.amount>=2)){o.next=12;break}return i=Object(O.a)(Object(O.a)({},c),{},{amount:c.amount-1}),o.next=10,r.child("".concat(t,"|").concat(c.time)).set(i);case 10:return Z.removeItemSuccess({id:t,uid:a}),o.abrupt("return",!0);case 12:return o.next=14,r.child("".concat(t,"|").concat(c.time)).set({});case 14:return Z.removeItemSuccess({id:t,uid:a}),o.abrupt("return",!0);case 16:return console.error("Remove item error: User '".concat(a,"' doesn't have item '").concat(t,"'")),Z.removeItemFail({id:t,uid:a,error:"has-no-item"}),o.abrupt("return",!1);case 19:case"end":return o.stop()}}),_t)}function Pt(e){var t,a,n,r,c;return Je.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.id,a=e.uid,i.next=3,$e.ref("users").child(a).child("inventory").once("value");case 3:if(n=i.sent,!(r=Object.values(n.val()||{})).length){i.next=9;break}if(!(c=r.find((function(e){return e.id===t})))){i.next=9;break}return i.abrupt("return",c);case 9:return i.abrupt("return");case 10:case"end":return i.stop()}}),Mt)}function Kt(e){var t,a,n,r,c,i,o;return Je.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=e.id,a=e.uid,n=e.itemType,t&&a&&n){l.next=5;break}return console.error("Cant give item. One of properties are not defined",t,a,n),Z.giveItemFail({}),l.abrupt("return");case 5:if(r=(new Date).getTime(),c={id:t,time:r,type:n,amount:1},"weapon"===n||"wearable"===n){l.next=12;break}return l.next=10,Pt({id:t,uid:a});case 10:(i=l.sent)&&(c.amount=(i.amount||1)+1,c.time=i.time);case 12:return o="".concat(c.id,"|").concat(c.time),l.next=15,$e.ref("users").child(a).child("inventory").child(o).set(c);case 15:return Z.giveItemSuccess({id:t,uid:a}),l.abrupt("return",!0);case 17:case"end":return l.stop()}}),At)}function Vt(e){var t,a,n;return Je.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.itemId,a=e.ownerId,n=e.uid,r.next=3,zt({id:t,uid:a});case 3:r.sent&&(Kt({id:t,uid:n}),Z.sendMessage({uid:n,message:"*\u043f\u043e\u0434\u043e\u0431\u0440\u0430\u043b \u043f\u0440\u0435\u0434\u043c\u0435\u0442"}));case 5:case"end":return r.stop()}}),Ut)}function Jt(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.a)([Object(We.c)("SET_ITEM",Lt),Object(We.c)("GET_ITEMS",Ft),Object(We.c)("GET_MORE_ITEMS",Gt),Object(We.b)("GET_ITEM_BY_ID",Dt),Object(We.c)("DELETE_ITEM",Rt),Object(We.c)("GIVE_ITEM",Kt),Object(We.c)("REMOVE_ITEM",zt),Object(We.c)("PASS_ITEM",Bt),Object(We.c)("TAKE_ITEM",Vt)]);case 2:case"end":return e.stop()}}),Nt)}var Wt=Je.a.mark(qt);function qt(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.a)([rt(),dt(),yt(),Jt()]);case 2:case"end":return e.stop()}}),Wt)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));J.run(qt),i.a.render(r.a.createElement(o.a,{store:W},r.a.createElement(Ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[206,1,2]]]);
//# sourceMappingURL=main.797a361c.chunk.js.map