(this["webpackJsonptext-roleplay"]=this["webpackJsonptext-roleplay"]||[]).push([[29],{258:function(t,e,n){"use strict";n.r(e),n.d(e,"AmountModal",(function(){return l}));var r=n(2),o=n(91),a=n(0),i=n.n(a),s=n(488),u=n(516),p=n(447),l=function(t){var e=t.item,n=t.inputProps,r=t.onChange,p=t.max,l=Object(a.useState)(1),c=Object(o.a)(l,2),h=c[0],d=c[1],f=function(t){"number"===typeof t&&(d(t||1),r&&r(t||1))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,Object.assign({defaultValue:1,value:h,min:1,max:p||e.amount,onChange:f},n||{})),i.a.createElement(u.a,{value:h,defaultValue:1,min:1,max:p||e.amount,onChange:f,dots:(p||e.amount||10)<=12}))};e.default=function(t){var e=t.item,n=t.onSubmit,o=t.modalProps,a=t.max,s=a&&a>=2||!a&&e.amount&&e.amount>=2,u=s?"\u0421\u043a\u043e\u043b\u044c\u043a\u043e? (\u043c\u0430\u043a\u0441. ".concat(a||e.amount,"\u0448\u0442)"):"\u0423\u0432\u0435\u0440\u0435\u043d\u044b?",c=1;p.a.confirm(Object(r.a)({title:u,className:"amount-modal",content:s&&i.a.createElement(l,Object.assign({},t,{onChange:function(t){"number"===typeof t&&(c=t)}})),onOk:function(t){n&&n(c),t()},okText:"\u0413\u043e\u0442\u043e\u0432\u043e",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",maskClosable:!0,centered:!0},o||{}))}},476:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},488:function(t,e,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(476),u=n.n(s),p=n(18),l=n.n(p),c=n(39),h=n.n(c),d=n(40),f=n.n(d),m=n(41),v=n.n(m),y=n(26);function g(){}function b(t){t.preventDefault()}var C=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,x=function(t){return void 0!==t&&null!==t},N=function(t,e){return e===t||"number"===typeof e&&"number"===typeof t&&isNaN(e)&&isNaN(t)},w=function(t){function e(n){h()(this,e);var r=f()(this,t.call(this,n));S.call(r);var o=void 0;o="value"in n?n.value:n.defaultValue,r.state={focused:n.autoFocus};var a=r.getValidValue(r.toNumber(o));return r.state=l()({},r.state,{inputValue:r.toPrecisionAsStep(a),value:a}),r}return v()(e,t),e.prototype.componentDidMount=function(){this.componentDidUpdate()},e.prototype.componentDidUpdate=function(t){var e=this.props,n=e.value,r=e.onChange,o=e.max,a=e.min,i=this.state.focused;if(t){if(!N(t.value,n)||!N(t.max,o)||!N(t.min,a)){var s=i?n:this.getValidValue(n),u=void 0;u=this.pressingUpOrDown?s:this.inputting?this.rawInput:this.toPrecisionAsStep(s),this.setState({value:s,inputValue:u})}var p="value"in this.props?n:this.state.value;"max"in this.props&&t.max!==o&&"number"===typeof p&&p>o&&r&&r(o),"min"in this.props&&t.min!==a&&"number"===typeof p&&p<a&&r&&r(a)}try{if(void 0!==this.cursorStart&&this.state.focused)if(this.partRestoreByAfter(this.cursorAfter)||this.state.value===this.props.value){if(this.currentValue===this.input.value)switch(this.lastKeyCode){case y.a.BACKSPACE:this.fixCaret(this.cursorStart-1,this.cursorStart-1);break;case y.a.DELETE:this.fixCaret(this.cursorStart+1,this.cursorStart+1)}}else{var l=this.cursorStart+1;this.cursorAfter?this.lastKeyCode===y.a.BACKSPACE?l=this.cursorStart-1:this.lastKeyCode===y.a.DELETE&&(l=this.cursorStart):l=this.input.value.length,this.fixCaret(l,l)}}catch(c){}this.lastKeyCode=null,this.pressingUpOrDown&&(this.props.focusOnUpDown&&this.state.focused&&document.activeElement!==this.input&&this.focus(),this.pressingUpOrDown=!1)},e.prototype.componentWillUnmount=function(){this.stop()},e.prototype.getCurrentValidValue=function(t){var e=t;return e=""===e?"":this.isNotCompleteNumber(parseFloat(e,10))?this.state.value:this.getValidValue(e),this.toNumber(e)},e.prototype.getRatio=function(t){var e=1;return t.metaKey||t.ctrlKey?e=.1:t.shiftKey&&(e=10),e},e.prototype.getValueFromEvent=function(t){var e=t.target.value.trim().replace(/\u3002/g,".");return x(this.props.decimalSeparator)&&(e=e.replace(this.props.decimalSeparator,".")),e},e.prototype.getValidValue=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.min,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props.max,r=parseFloat(t,10);return isNaN(r)?t:(r<e&&(r=e),r>n&&(r=n),r)},e.prototype.setValue=function(t,e){var n=this.props.precision,r=this.isNotCompleteNumber(parseFloat(t,10))?null:parseFloat(t,10),o=this.state,a=o.value,i=void 0===a?null:a,s=o.inputValue,u=void 0===s?null:s,p="number"===typeof r?r.toFixed(n):""+r,l=r!==i||p!==""+u;return"value"in this.props?this.setState({inputValue:this.toPrecisionAsStep(this.state.value)},e):this.setState({value:r,inputValue:this.toPrecisionAsStep(t)},e),l&&this.props.onChange(r),r},e.prototype.getPrecision=function(t){if(x(this.props.precision))return this.props.precision;var e=t.toString();if(e.indexOf("e-")>=0)return parseInt(e.slice(e.indexOf("e-")+2),10);var n=0;return e.indexOf(".")>=0&&(n=e.length-e.indexOf(".")-1),n},e.prototype.getMaxPrecision=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.props,r=n.precision,o=n.step;if(x(r))return r;var a=this.getPrecision(e),i=this.getPrecision(o),s=this.getPrecision(t);return t?Math.max(s,a+i):a+i},e.prototype.getPrecisionFactor=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getMaxPrecision(t,e);return Math.pow(10,n)},e.prototype.fixCaret=function(t,e){if(void 0!==t&&void 0!==e&&this.input&&this.input.value)try{var n=this.input.selectionStart,r=this.input.selectionEnd;t===n&&e===r||this.input.setSelectionRange(t,e)}catch(o){}},e.prototype.focus=function(){this.input.focus(),this.recordCursorPosition()},e.prototype.blur=function(){this.input.blur()},e.prototype.select=function(){this.input.select()},e.prototype.formatWrapper=function(t){return this.props.formatter?this.props.formatter(t):t},e.prototype.toPrecisionAsStep=function(t){if(this.isNotCompleteNumber(t)||""===t)return t;var e=Math.abs(this.getMaxPrecision(t));return isNaN(e)?t.toString():Number(t).toFixed(e)},e.prototype.isNotCompleteNumber=function(t){return isNaN(t)||""===t||null===t||t&&t.toString().indexOf(".")===t.toString().length-1},e.prototype.toNumber=function(t){var e=this.props.precision,n=this.state.focused,r=t&&t.length>16&&n;return this.isNotCompleteNumber(t)||r?t:x(e)?Math.round(t*Math.pow(10,e))/Math.pow(10,e):Number(t)},e.prototype.upStep=function(t,e){var n=this.props.step,r=this.getPrecisionFactor(t,e),o=Math.abs(this.getMaxPrecision(t,e)),a=((r*t+r*n*e)/r).toFixed(o);return this.toNumber(a)},e.prototype.downStep=function(t,e){var n=this.props.step,r=this.getPrecisionFactor(t,e),o=Math.abs(this.getMaxPrecision(t,e)),a=((r*t-r*n*e)/r).toFixed(o);return this.toNumber(a)},e.prototype.step=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments[3];this.stop(),e&&(e.persist(),e.preventDefault());var a=this.props;if(!a.disabled){var i=this.getCurrentValidValue(this.state.inputValue)||0;if(!this.isNotCompleteNumber(i)){var s=this[t+"Step"](i,r),u=s>a.max||s<a.min;s>a.max?s=a.max:s<a.min&&(s=a.min),this.setValue(s),this.setState({focused:!0}),u||(this.autoStepTimer=setTimeout((function(){n[t](e,r,!0)}),o?200:600))}}},e.prototype.render=function(){var t,e,n,r=this.props,a=r.prefixCls,s=r.disabled,p=r.readOnly,c=r.useTouch,h=r.autoComplete,d=r.upHandler,f=r.downHandler,m=r.className,v=r.max,y=r.min,C=r.style,x=r.title,N=r.onMouseEnter,w=r.onMouseLeave,S=r.onMouseOver,E=r.onMouseOut,O=r.required,M=r.onClick,P=r.tabIndex,V=r.type,D=r.placeholder,A=r.id,F=r.inputMode,U=r.pattern,K=r.step,T=r.maxLength,I=r.autoFocus,k=r.name,B=u()(r,["prefixCls","disabled","readOnly","useTouch","autoComplete","upHandler","downHandler","className","max","min","style","title","onMouseEnter","onMouseLeave","onMouseOver","onMouseOut","required","onClick","tabIndex","type","placeholder","id","inputMode","pattern","step","maxLength","autoFocus","name"]),j=this.state,L=j.value,R=j.focused,H=i()(a,((t={})[m]=!!m,t[a+"-disabled"]=s,t[a+"-focused"]=R,t)),q={};for(var W in B)!B.hasOwnProperty(W)||"data-"!==W.substr(0,5)&&"aria-"!==W.substr(0,5)&&"role"!==W||(q[W]=B[W]);var _=!p&&!s,z=this.getInputDisplayValue(),J=(L||0===L)&&(isNaN(L)||Number(L)>=v)||s||p,G=(L||0===L)&&(isNaN(L)||Number(L)<=y)||s||p,X=i()(a+"-handler",a+"-handler-up",((e={})[a+"-handler-up-disabled"]=J,e)),Q=i()(a+"-handler",a+"-handler-down",((n={})[a+"-handler-down-disabled"]=G,n)),Y=c?{onTouchStart:J?g:this.up,onTouchEnd:this.stop}:{onMouseDown:J?g:this.up,onMouseUp:this.stop,onMouseLeave:this.stop},Z=c?{onTouchStart:G?g:this.down,onTouchEnd:this.stop}:{onMouseDown:G?g:this.down,onMouseUp:this.stop,onMouseLeave:this.stop};return o.a.createElement("div",{className:H,style:C,title:x,onMouseEnter:N,onMouseLeave:w,onMouseOver:S,onMouseOut:E},o.a.createElement("div",{className:a+"-handler-wrap"},o.a.createElement("span",l()({unselectable:"unselectable"},Y,{role:"button","aria-label":"Increase Value","aria-disabled":J,className:X}),d||o.a.createElement("span",{unselectable:"unselectable",className:a+"-handler-up-inner",onClick:b})),o.a.createElement("span",l()({unselectable:"unselectable"},Z,{role:"button","aria-label":"Decrease Value","aria-disabled":G,className:Q}),f||o.a.createElement("span",{unselectable:"unselectable",className:a+"-handler-down-inner",onClick:b}))),o.a.createElement("div",{className:a+"-input-wrap"},o.a.createElement("input",l()({role:"spinbutton","aria-valuemin":y,"aria-valuemax":v,"aria-valuenow":L,required:O,type:V,placeholder:D,onClick:M,onMouseUp:this.onMouseUp,className:a+"-input",tabIndex:P,autoComplete:h,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:_?this.onKeyDown:g,onKeyUp:_?this.onKeyUp:g,autoFocus:I,maxLength:T,readOnly:p,disabled:s,max:v,min:y,step:K,name:k,title:x,id:A,onChange:this.onChange,ref:this.saveInput,value:z,pattern:U,inputMode:F},q))))},e}(o.a.Component);w.defaultProps={focusOnUpDown:!0,useTouch:!1,prefixCls:"rc-input-number",min:-C,step:1,style:{},onChange:g,onKeyDown:g,onPressEnter:g,onFocus:g,onBlur:g,parser:function(t){return t.replace(/[^\w\.-]+/g,"")},required:!1,autoComplete:"off"};var S=function(){var t=this;this.onKeyDown=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=t.props,i=a.onKeyDown,s=a.onPressEnter;if(e.keyCode===y.a.UP){var u=t.getRatio(e);t.up(e,u),t.stop()}else if(e.keyCode===y.a.DOWN){var p=t.getRatio(e);t.down(e,p),t.stop()}else e.keyCode===y.a.ENTER&&s&&s(e);t.recordCursorPosition(),t.lastKeyCode=e.keyCode,i&&i.apply(void 0,[e].concat(r))},this.onKeyUp=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=t.props.onKeyUp;t.stop(),t.recordCursorPosition(),a&&a.apply(void 0,[e].concat(r))},this.onChange=function(e){var n=t.props.onChange;t.state.focused&&(t.inputting=!0),t.rawInput=t.props.parser(t.getValueFromEvent(e)),t.setState({inputValue:t.rawInput}),n(t.toNumber(t.rawInput))},this.onMouseUp=function(){var e=t.props.onMouseUp;t.recordCursorPosition(),e&&e.apply(void 0,arguments)},this.onFocus=function(){var e;t.setState({focused:!0}),(e=t.props).onFocus.apply(e,arguments)},this.onBlur=function(){var e=t.props.onBlur;t.inputting=!1,t.setState({focused:!1});var n=t.getCurrentValidValue(t.state.inputValue),r=t.setValue(n);if(e){var o=t.input.value,a=t.getInputDisplayValue({focus:!1,value:r});t.input.value=a,e.apply(void 0,arguments),t.input.value=o}},this.getInputDisplayValue=function(e){var n=e||t.state,r=n.focused,o=n.inputValue,a=n.value,i=void 0;void 0!==(i=r?o:t.toPrecisionAsStep(a))&&null!==i||(i="");var s=t.formatWrapper(i);return x(t.props.decimalSeparator)&&(s=s.toString().replace(".",t.props.decimalSeparator)),s},this.recordCursorPosition=function(){try{t.cursorStart=t.input.selectionStart,t.cursorEnd=t.input.selectionEnd,t.currentValue=t.input.value,t.cursorBefore=t.input.value.substring(0,t.cursorStart),t.cursorAfter=t.input.value.substring(t.cursorEnd)}catch(e){}},this.restoreByAfter=function(e){if(void 0===e)return!1;var n=t.input.value,r=n.lastIndexOf(e);if(-1===r)return!1;var o=t.cursorBefore.length;return t.lastKeyCode===y.a.DELETE&&t.cursorBefore.charAt(o-1)===e[0]?(t.fixCaret(o,o),!0):r+e.length===n.length&&(t.fixCaret(r,r),!0)},this.partRestoreByAfter=function(e){return void 0!==e&&Array.prototype.some.call(e,(function(n,r){var o=e.substring(r);return t.restoreByAfter(o)}))},this.stop=function(){t.autoStepTimer&&clearTimeout(t.autoStepTimer)},this.down=function(e,n,r){t.pressingUpOrDown=!0,t.step("down",e,n,r)},this.up=function(e,n,r){t.pressingUpOrDown=!0,t.step("up",e,n,r)},this.saveInput=function(e){t.input=e}},E=w,O=n(195),M=n.n(O),P=n(193),V=n.n(P),D=n(191),A=n(34);function F(){return(F=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var K=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},T=r.forwardRef((function(t,e){var n=function(n){var o=n.getPrefixCls,a=n.direction,s=t.className,u=t.size,p=t.prefixCls,l=K(t,["className","size","prefixCls"]),c=o("input-number",p),h=r.createElement(M.a,{className:"".concat(c,"-handler-up-inner")}),d=r.createElement(V.a,{className:"".concat(c,"-handler-down-inner")});return r.createElement(A.b.Consumer,null,(function(t){var n,o=u||t,p=i()((U(n={},"".concat(c,"-lg"),"large"===o),U(n,"".concat(c,"-sm"),"small"===o),U(n,"".concat(c,"-rtl"),"rtl"===a),n),s);return r.createElement(E,F({ref:e,className:p,upHandler:h,downHandler:d,prefixCls:c},l))}))};return r.createElement(D.a,null,n)}));T.defaultProps={step:1};e.a=T}}]);
//# sourceMappingURL=29.20f1ad03.chunk.js.map