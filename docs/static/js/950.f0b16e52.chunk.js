"use strict";(self.webpackChunktext_roleplay=self.webpackChunktext_roleplay||[]).push([[950,549],{6081:function(e,n,t){t.r(n);var a=t(1413),r=t(5987),l=t(2791),u=t(426),o=t(3824),c=["avatar","nickname","style"];n.default=function(e){var n=e.avatar,t=e.nickname,i=e.style,s=(0,r.Z)(e,c),m=(0,o.isURL)(n)?n:"";return(0,o.isURL)(n),l.createElement(u.Z,Object.assign({src:m,style:(0,a.Z)((0,a.Z)({},i),{},{backgroundColor:m?"transparent":(0,o.colorFromString)(t)})},s),t&&t)}},4950:function(e,n,t){t.r(n),t.d(n,{Settings:function(){return D}});var a=t(4942),r=t(1413),l=t(3144),u=t(5671),o=t(136),c=t(4062),i=t(2791),s=t(4233),m=t(9271),d=t(2426),f=t.n(d),g=t(8183),p=t(4964),v=t(2756),h=t(1099),E=t(4469),Z=t(2493),C=t(8611),y=t(3924),k=t(3347),S=t(2871),O=t(2056),U=t(2414),b=(t(8549),t(2404)),w=t(1233),x=t(6081),F=t(3824),A=t(5078),T=t(9638),D=function(e){(0,o.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,u.Z)(this,t);for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];return(e=n.call.apply(n,[this].concat(o))).state=w.defaultUser,e.componentDidMount=function(){var n=e.props,t=n.user,a=n.uid,r=n.currentUser,l=n.history;t?e.setState(t):b.default.getUser({uid:a}),(0,F.redirectToUserPage)(t,r,l),(0,T.addStatusChangeListener)("afk",e.onSave),(0,T.addStatusChangeListener)("offline",e.onSave)},e.componentDidUpdate=function(n){var t=e.props,a=t.user,r=t.currentUser,l=t.history;(0,F.redirectToUserPage)(a,r,l),e.props!==n&&e.setState(a)},e.componentWillUnmount=function(){(0,T.removeStatusChangeListener)("afk",e.onSave),e.onSave()},e.rawOnChange=function(n,t,l){var u=(0,r.Z)((0,r.Z)({},e.state),{},(0,a.Z)({},n,t));e.setState(u,(function(){return l&&e.onSave()}))},e.onSave=function(){var n=e.state,t=e.props.user;t&&n!==w.defaultUser&&Object.keys((0,S.diff)(n,t)).length>0&&e.setSettings(n)},e.onChange=function(n){return function(t){return e.rawOnChange(n,t.target.value)}},e.setSettings=function(n){var t=e.props.user;t&&b.default.setUser({uid:t.uid,user:n})},e.clearAvatar=function(){return e.setSettings((0,r.Z)((0,r.Z)({},e.props.user),{},{avatar:""}))},e.getField=function(n,t,a){var r=a.nickname,l=void 0===r?"":r,u=e.props,o=u.hasRight,c=u.currentUser,s=u.uid,m=!o;switch(n){case"avatar":return i.createElement("div",null,i.createElement("div",{style:{display:"flex"}},i.createElement(A.default,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",onChange:e.onChange(n),value:t,readOnly:m,onUpload:function(t){b.default.notify({message:"\u0424\u0430\u0439\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d!"}),e.rawOnChange(n,t)}}),i.createElement(g.Z,{title:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440?",onConfirm:e.clearAvatar,okText:"\u0414\u0430",cancelText:"\u041d\u0435\u0442",icon:i.createElement(O.Z,{style:{color:"#ff4d4f"}}),disabled:!t},i.createElement(p.Z,{disabled:m||!t,danger:!0},i.createElement(O.Z,null)))),i.createElement(x.default,{avatar:t,nickname:l||s,size:128,style:{margin:"8px auto",display:"block"}}));case"uid":return i.createElement(v.Z,{value:t,readOnly:!0});case"lastOnline":return t?i.createElement(v.Z,{value:"".concat(f()(parseInt(t)).fromNow()," (").concat((0,F.getFullTime)(parseInt(t)),")"),readOnly:!0}):"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0435\u0449\u0451 \u043d\u0435 \u0431\u044b\u043b \u0430\u043a\u0442\u0438\u0432\u0435\u043d";case"approved":return i.createElement(i.Fragment,null,o&&c&&c.uid!==s&&i.createElement(i.Fragment,null,i.createElement(h.Z,{checked:!!t,onChange:function(t){return e.rawOnChange(n,t)}})),t?"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d":"\u041d\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d");case"aiApiKey":var d="https://platform.openai.com/account/api-keys";return i.createElement(E.Z,{title:i.createElement("a",{href:d,target:"_blank",rel:"noreferrer"},d)},i.createElement(v.Z,{value:t,onChange:e.onChange(n)}));case"isAdmin":return i.createElement(i.Fragment,null,o&&c&&c.uid!==s&&i.createElement(i.Fragment,null,i.createElement(h.Z,{checked:!!t,onChange:function(t){return e.rawOnChange(n,t)}})),t?"\u0418\u043c\u0435\u044e\u0442\u0441\u044f":"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442");case"zoom":return c&&c.uid===s&&i.createElement(E.Z,{title:"\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415! \u0418\u0437\u043c\u0435\u043d\u044f\u044f \u0440\u0430\u0437\u043c\u0435\u0440, \u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u0432\u0438\u0434 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u043c\u043e\u0436\u0435\u0442 \u043a\u0430\u0440\u0434\u0438\u043d\u0430\u043b\u044c\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c\u0441\u044f, \u0430 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0441\u0442\u0430\u043d\u0443\u0442 \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u044b \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0438 \u0431\u0443\u0434\u0443\u0442 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b. \u0418\u0437\u043c\u0435\u043d\u044f\u0439\u0442\u0435 \u043d\u0430 \u0441\u0432\u043e\u0439 \u0441\u0442\u0440\u0430\u0445 \u0438 \u0440\u0438\u0441\u043a"},i.createElement(Z.Z,{max:200,min:50,value:parseInt(t),onChange:function(t){return void 0!==t&&e.rawOnChange(n,Math.min(200,Math.max(50,t||0)))},onBlur:function(){return e.onSave()},onPressEnter:function(){return e.onSave()}}));case"theme":return a&&i.createElement(C.Z,{value:a.theme,onChange:function(t){return e.rawOnChange(n,t,!0)}},["blue","red","volcano","orange","gold","yellow","lime","green","cyan","purple","magenta"].map((function(e){return i.createElement(C.Z.Option,{value:e,key:e},e)})));case"enableDisabledFeatures":return c&&c.uid===s&&i.createElement(i.Fragment,null,i.createElement(h.Z,{checked:!!t,onChange:function(t){return e.rawOnChange(n,t,!0)}})," ",t?"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u044b":"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u044b");case"notificationVolume":return c&&c.uid===s&&i.createElement(Z.Z,{max:100,min:0,value:parseInt(t),onChange:function(t){return void 0!==t&&e.rawOnChange(n,Math.min(100,Math.max(0,t||0)))},onBlur:function(){return e.onSave()},onPressEnter:function(){return e.onSave()}});default:return i.createElement(v.Z,{value:t,onChange:e.onChange(n),readOnly:m})}},e.labels={avatar:"\u0410\u0432\u0430\u0442\u0430\u0440",nickname:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c",lastOnline:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",theme:"\u0426\u0432\u0435\u0442\u043e\u0432\u0430\u044f \u0442\u0435\u043c\u0430",isAdmin:"\u041f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0430",uid:"UID",approved:"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d",aiApiKey:"OpenAI API key",zoom:"\u0420\u0430\u0437\u043c\u0435\u0440 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f %",enableDisabledFeatures:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438",notificationVolume:"\u0413\u0440\u043e\u043c\u043a\u043e\u0441\u0442\u044c \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f \u043e \u043d\u043e\u0432\u043e\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438"},e.getDeleteUser=function(){var n=e.props,t=n.currentUser,a=n.uid;return t&&t.isSuperAdmin&&i.createElement(k.Z,{title:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"},i.createElement(g.Z,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435. \u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",onConfirm:function(){return y.Z.confirm({title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c?",content:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435? \u042d\u0442\u043e \u043d\u0435\u043b\u044c\u0437\u044f \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u0443\u0434\u0435\u0442 \u0442\u0430\u043a \u0436\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0431 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0432 Firebase",okText:"",cancelText:"",onOk:function(e){b.default.fullDeleteUser({uid:a}),e()}})},okText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430"},i.createElement(p.Z,null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))},e.render=function(){var n=e.state;return n.uid&&i.createElement(k.Z,{className:"settings",bordered:!1,loading:void 0===n,title:n&&i.createElement(i.Fragment,null,i.createElement(U.Z,null)," ","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0433\u0440\u043e\u043a\u0430 ",n.nickname||n.uid)},Object.keys(w.defaultUser).map((function(t){var a=e.labels[t],r=e.getField(t,"".concat(n[t]||""),n);return a&&r&&i.createElement(k.Z,{className:t,key:t,title:a},r)})),e.getDeleteUser())},e}return(0,l.Z)(t)}(i.Component);n.default=(0,m.EN)((0,s.$j)(F.getStateUser)(D))},8549:function(e,n,t){t.r(n),n.default={}}}]);
//# sourceMappingURL=950.f0b16e52.chunk.js.map