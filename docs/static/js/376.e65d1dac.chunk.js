"use strict";(self.webpackChunktext_roleplay=self.webpackChunktext_roleplay||[]).push([[376],{6081:function(e,t,n){n.r(t);var r=n(1413),a=n(5987),o=n(2791),l=n(426),c=n(3824),u=["avatar","nickname","style"];t.default=function(e){var t=e.avatar,n=e.nickname,i=e.style,m=(0,a.Z)(e,u),s=(0,c.isURL)(t)?t:"";return(0,c.isURL)(t),o.createElement(l.Z,Object.assign({src:s,style:(0,r.Z)((0,r.Z)({},i),{},{backgroundColor:s?"transparent":(0,c.colorFromString)(n)})},m),n&&n)}},4376:function(e,t,n){n.r(t);var r=n(1413),a=n(4942),o=n(3144),l=n(5671),c=n(7326),u=n(136),i=n(4062),m=n(2791),s=n(8611),f=n(2756),p=n(2493),v=n(8183),d=n(4964),g=n(1099),Z=n(8528),y=n(3347),h=n(3924),C=n(2056),E=n(732),k=n(1233),b=n(6081),x=n(5078),T=function(e){(0,u.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,l.Z)(this,n);for(var o=arguments.length,u=new Array(o),i=0;i<o;i++)u[i]=arguments[i];return(e=t.call.apply(t,[this].concat(u))).state={},e.labels={id:"ID",type:"\u0422\u0438\u043f*",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435*",weight:"\u0412\u0435\u0441",effect:"\u042d\u0444\u0444\u0435\u043a\u0442",image:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",price:"\u0426\u0435\u043d\u0430",capacity:"\u0420\u0430\u0437\u043c\u0435\u0440 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430",armor:"\u0417\u0430\u0449\u0438\u0442\u0430",approved:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0451\u043d"},e.types=[{key:"weapon",value:"\u041e\u0440\u0443\u0436\u0438\u0435"},{key:"wearable",value:"\u041e\u0434\u0435\u0436\u0434\u0430/\u0411\u0440\u043e\u043d\u044f"},{key:"usable",value:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u043e\u0435"},{key:"ammo",value:"\u041f\u0430\u0442\u0440\u043e\u043d\u044b"},{key:"misc",value:"\u041f\u0440\u043e\u0447\u0435\u0435"},{key:"note",value:"\u0417\u0430\u043f\u0438\u0441\u043a\u0430"},{key:"key",value:"\u041a\u043b\u044e\u0447"},{key:"junk",value:"\u041c\u0443\u0441\u043e\u0440"}],e.onChange=function(t,n){return e.setState((0,a.Z)({},t,n))},e.clearImage=function(){return e.setState({image:""})},e.fields={id:function(){return!1},type:function(t,n){return m.createElement(s.Z,{value:t,onChange:function(t){return e.onChange(n,t)}},e.types.map((function(e){var t=e.key,n=e.value;return m.createElement(s.Z.Option,{value:t,key:t},n)})))},name:function(t,n){return m.createElement(f.Z,{value:t,onChange:function(t){return e.onChange(n,t.currentTarget.value)}})},weight:function(t,n){return m.createElement(p.Z,{value:t,min:0,precision:2,onChange:function(t){return e.onChange(n,t||0)},step:.01})},effect:function(t,n){return m.createElement(f.Z,{value:t,onChange:function(t){return e.onChange(n,t.currentTarget.value)}})},image:function(t,n){return m.createElement("div",null,m.createElement("div",{style:{display:"flex"}},m.createElement(x.default,{value:t,onChange:function(t){return e.onChange(n,t.currentTarget.value)},onUpload:function(t){return e.onChange(n,e.state[n]+" "+t)}}),m.createElement(v.Z,{title:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443?",onConfirm:e.clearImage,okText:"\u0414\u0430",cancelText:"\u041d\u0435\u0442",icon:m.createElement(C.Z,{style:{color:"#ff4d4f"}})},m.createElement(d.Z,{disabled:!t,danger:!0},m.createElement(C.Z,null)))),m.createElement(b.default,{shape:"square",avatar:t,nickname:t,size:128,style:{margin:"8px auto",display:"block"}}))},description:function(t,n){return m.createElement(f.Z.TextArea,{value:t,onChange:function(t){return e.onChange(n,t.currentTarget.value)}})},price:function(t,n){return m.createElement(p.Z,{value:t,min:0,step:1,onChange:function(t){return e.onChange(n,t||0)}})},capacity:function(t,n,r){return"weapon"===r.type&&m.createElement(p.Z,{value:t,min:0,step:1,onChange:function(t){return e.onChange(n,t||0)}})},armor:function(t,n,r){return"wearable"===r.type&&m.createElement(p.Z,{value:t,min:0,step:1,onChange:function(t){return e.onChange(n,t||0)}})},approved:function(t,n){return e.props.isAdmin&&m.createElement(g.Z,{checked:t,disabled:!e.props.isAdmin,onChange:function(t){return e.onChange(n,t)}})}},e.getField=function(t,n,r){var a=e.fields[t];return a&&a(n,t,r)},e.onSubmit=function(){var t=e.props.onSubmit,n={};Object.keys(k.defaultItem).forEach((function(t){n[t]=e.getValue(t)}));if("IItem"!==n.discriminator)return Z.Z.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430!"),void console.error(n);n.name?(t(n),e.setState({})):Z.Z.error("\u0418\u043c\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c")},e.getValue=function(t){var n=(0,c.Z)(e).state,r=e.props.item,a=n[t],o=r?r[t]:void 0,l=k.defaultItem[t];return void 0!==a?a:void 0!==o?o:l},e.content=function(){var t=(0,c.Z)(e),n=t.state,a=t.props.item,o=(0,r.Z)((0,r.Z)({},a),n);return m.createElement("div",{className:"item-creator"},m.createElement("div",{className:"item-creator__body"},Object.keys(k.defaultItem).map((function(t){var n=e.getField(t,e.getValue(t),o);return n&&m.createElement(y.Z,{className:t,key:t,title:e.labels[t]},n)}))),m.createElement("div",{className:"item-creator__controls"},m.createElement(v.Z,{title:"\u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043e\u0431\u043d\u0443\u043b\u0435\u043d\u044b",onConfirm:function(){return e.setState(k.defaultItem)},okText:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",icon:m.createElement(C.Z,{style:{color:"#ff4d4f"}})},m.createElement(d.Z,null,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c")),m.createElement(v.Z,{title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",onConfirm:e.onSubmit,okText:"\u0413\u043e\u0442\u043e\u0432\u043e",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",icon:m.createElement(C.Z,{style:{color:"#15395b"}})},m.createElement(d.Z,null,"\u0413\u043e\u0442\u043e\u0432\u043e"))))},e.render=function(){var t=e.props,n=t.onClose,r=t.visible;return m.createElement(h.Z,{className:"item-creator-modal",centered:!0,closable:!1,onCancel:n,footer:null,visible:r,title:m.createElement(E.Z,{onClick:n})},e.content())},e}return(0,o.Z)(n)}(m.Component);t.default=T}}]);
//# sourceMappingURL=376.e65d1dac.chunk.js.map